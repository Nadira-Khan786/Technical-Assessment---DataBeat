{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nrequire(\"core-js/modules/es.reflect.construct.js\");\nrequire(\"core-js/modules/es.reflect.get.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\nrequire(\"core-js/modules/es.symbol.js\");\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.symbol.iterator.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.array.map.js\");\nrequire(\"core-js/modules/es.array.find.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.string.split.js\");\nrequire(\"core-js/modules/es.string.trim.js\");\nrequire(\"core-js/modules/es.string.replace.js\");\nrequire(\"core-js/modules/es.array.concat.js\");\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\nvar _Multivalue2 = _interopRequireDefault(require(\"../multivalue/Multivalue\"));\nvar _utils = require(\"../../../utils/utils\");\nvar _widgets = _interopRequireDefault(require(\"../../../widgets\"));\nvar _nativePromiseOnly = _interopRequireDefault(require(\"native-promise-only\"));\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nvar Input = /*#__PURE__*/function (_Multivalue) {\n  _inherits(Input, _Multivalue);\n  var _super = _createSuper(Input);\n  function Input(component, options, data) {\n    var _this;\n    _classCallCheck(this, Input);\n    _this = _super.call(this, component, options, data);\n    _this.triggerUpdateValueAt = _lodash.default.debounce(_this.updateValueAt.bind(_assertThisInitialized(_this)), 100);\n    return _this;\n  }\n  _createClass(Input, [{\n    key: \"inputInfo\",\n    get: function get() {\n      var attr = {\n        name: this.options.name,\n        type: this.component.inputType || 'text',\n        class: 'form-control',\n        lang: this.options.language\n      };\n      if (this.options.attachMode === 'builder' || this.options.building) {\n        attr.autocomplete = 'off';\n      }\n      if (this.component.inputMode) {\n        attr.inputmode = this.component.inputMode;\n      }\n      if (this.component.placeholder) {\n        attr.placeholder = this.t(this.component.placeholder, {\n          _userInput: true\n        });\n      }\n      if (this.component.tabindex) {\n        attr.tabindex = this.component.tabindex;\n      }\n      if (this.disabled) {\n        attr.disabled = 'disabled';\n      }\n      if (this.component.autocomplete) {\n        attr.autocomplete = this.component.autocomplete;\n      }\n      _lodash.default.defaults(attr, this.component.attributes);\n      return {\n        id: this.key,\n        type: 'input',\n        changeEvent: 'input',\n        content: '',\n        attr: attr\n      };\n    }\n  }, {\n    key: \"maskOptions\",\n    get: function get() {\n      return _lodash.default.map(this.component.inputMasks, function (mask) {\n        return {\n          label: mask.label,\n          value: mask.label\n        };\n      });\n    }\n  }, {\n    key: \"isMultipleMasksField\",\n    get: function get() {\n      return this.component.allowMultipleMasks && !!this.component.inputMasks && !!this.component.inputMasks.length;\n    }\n  }, {\n    key: \"getMaskByName\",\n    value: function getMaskByName(maskName) {\n      var inputMask = _lodash.default.find(this.component.inputMasks, function (inputMask) {\n        return inputMask.label === maskName;\n      });\n      return inputMask ? inputMask.mask : undefined;\n    }\n  }, {\n    key: \"setInputMask\",\n    value: function setInputMask(input, inputMask) {\n      var mask = inputMask || this.component.displayMask || this.component.inputMask;\n      return _get(_getPrototypeOf(Input.prototype), \"setInputMask\", this).call(this, input, mask, !this.component.placeholder);\n    }\n  }, {\n    key: \"getMaskOptions\",\n    value: function getMaskOptions() {\n      return this.component.inputMasks.map(function (mask) {\n        return {\n          label: mask.label,\n          value: mask.label\n        };\n      });\n    }\n  }, {\n    key: \"getWordCount\",\n    value: function getWordCount(value) {\n      return !value ? 0 : value.trim().split(/\\s+/).length;\n    }\n  }, {\n    key: \"remainingWords\",\n    get: function get() {\n      var maxWords = _lodash.default.parseInt(_lodash.default.get(this.component, 'validate.maxWords'), 10);\n      var wordCount = this.getWordCount(this.dataValue);\n      return maxWords - wordCount;\n    }\n  }, {\n    key: \"prefix\",\n    get: function get() {\n      return this.component.prefix;\n    }\n  }, {\n    key: \"suffix\",\n    get: function get() {\n      if (this.component.widget && this.component.widget.type === 'calendar') {\n        var calendarIcon = this.renderTemplate('icon', {\n          ref: 'icon',\n          // After font-awesome would be updated to v5.x, \"clock-o\" should be replaced with \"clock\"\n          className: this.iconClass(this.component.enableDate || this.component.widget.enableDate ? 'calendar' : 'clock-o'),\n          styles: '',\n          content: ''\n        }).trim();\n        if (this.component.prefix !== calendarIcon) {\n          // converting string to HTML markup to render correctly DateTime component in portal.form.io\n          return (0, _utils.convertStringToHTMLElement)(calendarIcon, '[ref=\"icon\"]');\n        }\n      }\n      return this.component.suffix;\n    }\n  }, {\n    key: \"renderElement\",\n    value: function renderElement(value, index) {\n      // Double quotes cause the input value to close so replace them with html quote char.\n      if (value && typeof value === 'string') {\n        value = value.replace(/\"/g, '&quot;');\n      }\n      var info = this.inputInfo;\n      info.attr = info.attr || {};\n      info.attr.value = this.getValueAsString(this.formatValue(this.parseValue(value))).replace(/\"/g, '&quot;');\n      var valueMask = this.component.inputMask;\n      var displayMask = this.component.displayMask;\n      var hasDifferentDisplayAndSaveFormats = valueMask && displayMask && valueMask !== displayMask;\n      if (this.isMultipleMasksField) {\n        info.attr.class += ' formio-multiple-mask-input';\n      }\n      return this.isMultipleMasksField ? this.renderTemplate('multipleMasksInput', {\n        input: info,\n        value: value,\n        index: index,\n        selectOptions: this.getMaskOptions() || []\n      }, this.isHtmlRenderMode() ? 'html' : null) : this.renderTemplate('input', {\n        prefix: this.prefix,\n        suffix: this.suffix,\n        input: info,\n        value: this.formatValue(this.parseValue(value)),\n        hasValueMaskInput: hasDifferentDisplayAndSaveFormats,\n        index: index\n      }, this.isHtmlRenderMode() ? 'html' : null);\n    }\n  }, {\n    key: \"setCounter\",\n    value: function setCounter(type, element, count, max) {\n      if (max) {\n        var remaining = max - count;\n        if (remaining > 0) {\n          this.removeClass(element, 'text-danger');\n        } else {\n          this.addClass(element, 'text-danger');\n        }\n        this.setContent(element, this.t(\"{{ remaining }} \".concat(type, \" remaining.\"), {\n          remaining: remaining\n        }));\n      } else {\n        this.setContent(element, this.t(\"{{ count }} \".concat(type), {\n          count: count\n        }));\n      }\n    }\n  }, {\n    key: \"updateValueAt\",\n    value: function updateValueAt(value, flags, index) {\n      flags = flags || {};\n      if (_lodash.default.get(this.component, 'showWordCount', false)) {\n        if (this.refs.wordcount && this.refs.wordcount[index]) {\n          var maxWords = _lodash.default.parseInt(_lodash.default.get(this.component, 'validate.maxWords', 0), 10);\n          this.setCounter(this.t('words'), this.refs.wordcount[index], this.getWordCount(value), maxWords);\n        }\n      }\n      if (_lodash.default.get(this.component, 'showCharCount', false)) {\n        if (this.refs.charcount && this.refs.charcount[index]) {\n          var maxChars = _lodash.default.parseInt(_lodash.default.get(this.component, 'validate.maxLength', 0), 10);\n          this.setCounter(this.t('characters'), this.refs.charcount[index], value.length, maxChars);\n        }\n      }\n    }\n  }, {\n    key: \"getValueAt\",\n    value: function getValueAt(index) {\n      var input = this.performInputMapping(this.refs.input[index]);\n      if (input && input.widget) {\n        return input.widget.getValue();\n      }\n      return input ? input.value : undefined;\n    }\n  }, {\n    key: \"updateValue\",\n    value: function updateValue(value, flags, index) {\n      flags = flags || {};\n      var changed = _get(_getPrototypeOf(Input.prototype), \"updateValue\", this).call(this, value, flags);\n      this.triggerUpdateValueAt(this.dataValue, flags, index);\n      return changed;\n    }\n  }, {\n    key: \"parseValue\",\n    value: function parseValue(value) {\n      return value;\n    }\n  }, {\n    key: \"formatValue\",\n    value: function formatValue(value) {\n      return value;\n    }\n  }, {\n    key: \"attach\",\n    value: function attach(element) {\n      this.loadRefs(element, {\n        charcount: 'multiple',\n        wordcount: 'multiple',\n        prefix: 'multiple',\n        suffix: 'multiple'\n      });\n      return _get(_getPrototypeOf(Input.prototype), \"attach\", this).call(this, element);\n    }\n  }, {\n    key: \"getWidget\",\n    value: function getWidget(index) {\n      index = index || 0;\n      if (this.refs.input && this.refs.input[index]) {\n        return this.refs.input[index].widget;\n      }\n      return null;\n    }\n  }, {\n    key: \"attachElement\",\n    value: function attachElement(element, index) {\n      var _this2 = this;\n      _get(_getPrototypeOf(Input.prototype), \"attachElement\", this).call(this, element, index);\n      if (element.widget) {\n        element.widget.destroy();\n      } // Attach the widget.\n\n      var promise = _nativePromiseOnly.default.resolve();\n      element.widget = this.createWidget(index);\n      if (element.widget) {\n        promise = element.widget.attach(element);\n        if (this.refs.prefix && this.refs.prefix[index]) {\n          element.widget.addPrefix(this.refs.prefix[index]);\n        }\n        if (this.refs.suffix && this.refs.suffix[index]) {\n          element.widget.addSuffix(this.refs.suffix[index]);\n        }\n      } // Add focus and blur events.\n\n      this.addFocusBlurEvents(element);\n      if (this.options.submitOnEnter) {\n        this.addEventListener(element, 'keypress', function (event) {\n          var key = event.keyCode || event.which;\n          if (key === 13) {\n            event.preventDefault();\n            event.stopPropagation();\n            _this2.emit('submitButton');\n          }\n        });\n      }\n      return promise;\n    }\n    /**\n     * Creates an instance of a widget for this component.\n     *\n     * @return {null}\n     */\n  }, {\n    key: \"createWidget\",\n    value: function createWidget(index) {\n      var _this$root,\n        _this3 = this;\n\n      // Return null if no widget is found.\n      if (!this.component.widget) {\n        return null;\n      } // Get the widget settings.\n\n      var settings = typeof this.component.widget === 'string' ? {\n        type: this.component.widget\n      } : this.component.widget;\n      if ((_this$root = this.root) !== null && _this$root !== void 0 && _this$root.shadowRoot) {\n        var _this$root2;\n        settings.shadowRoot = (_this$root2 = this.root) === null || _this$root2 === void 0 ? void 0 : _this$root2.shadowRoot;\n      } // Make sure we have a widget.\n\n      if (!_widgets.default.hasOwnProperty(settings.type)) {\n        return null;\n      } // Create the widget.\n\n      var widget = new _widgets.default[settings.type](settings, this.component, this, index);\n      widget.on('update', function () {\n        return _this3.updateValue(_this3.getValue(), {\n          modified: true\n        }, index);\n      }, true);\n      widget.on('redraw', function () {\n        return _this3.redraw();\n      }, true);\n      return widget;\n    }\n  }, {\n    key: \"detach\",\n    value: function detach() {\n      _get(_getPrototypeOf(Input.prototype), \"detach\", this).call(this);\n      if (this.refs && this.refs.input) {\n        for (var i = 0; i <= this.refs.input.length; i++) {\n          var widget = this.getWidget(i);\n          if (widget) {\n            widget.destroy();\n          }\n        }\n      }\n      this.refs.input = [];\n    }\n  }, {\n    key: \"addFocusBlurEvents\",\n    value: function addFocusBlurEvents(element) {\n      var _this4 = this;\n      this.addEventListener(element, 'focus', function () {\n        if (_this4.root.focusedComponent !== _this4) {\n          if (_this4.root.pendingBlur) {\n            _this4.root.pendingBlur();\n          }\n          _this4.root.focusedComponent = _this4;\n          _this4.emit('focus', _this4);\n        } else if (_this4.root.focusedComponent === _this4 && _this4.root.pendingBlur) {\n          _this4.root.pendingBlur.cancel();\n          _this4.root.pendingBlur = null;\n        }\n      });\n      this.addEventListener(element, 'blur', function () {\n        _this4.root.pendingBlur = (0, _utils.delay)(function () {\n          _this4.emit('blur', _this4);\n          if (_this4.component.validateOn === 'blur') {\n            _this4.root.triggerChange({\n              fromBlur: true\n            }, {\n              instance: _this4,\n              component: _this4.component,\n              value: _this4.dataValue,\n              flags: {\n                fromBlur: true\n              }\n            });\n          }\n          _this4.root.focusedComponent = null;\n          _this4.root.pendingBlur = null;\n        });\n      });\n    }\n  }], [{\n    key: \"schema\",\n    value: function schema() {\n      for (var _len = arguments.length, extend = new Array(_len), _key = 0; _key < _len; _key++) {\n        extend[_key] = arguments[_key];\n      }\n      return _Multivalue2.default.schema.apply(_Multivalue2.default, [{\n        widget: {\n          type: 'input'\n        }\n      }].concat(extend));\n    }\n  }]);\n  return Input;\n}(_Multivalue2.default);\nexports.default = Input;","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","require","Object","defineProperty","exports","value","default","_Multivalue2","_interopRequireDefault","_utils","_widgets","_nativePromiseOnly","_lodash","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","_get","Reflect","get","bind","property","receiver","base","_superPropBase","desc","getOwnPropertyDescriptor","call","arguments","apply","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","Input","_Multivalue","_super","component","options","data","_this","triggerUpdateValueAt","debounce","updateValueAt","attr","name","type","inputType","class","lang","language","attachMode","building","autocomplete","inputMode","inputmode","placeholder","t","_userInput","tabindex","disabled","defaults","attributes","id","changeEvent","content","map","inputMasks","mask","label","allowMultipleMasks","getMaskByName","maskName","inputMask","find","undefined","setInputMask","input","displayMask","getMaskOptions","getWordCount","trim","split","maxWords","parseInt","wordCount","dataValue","prefix","widget","calendarIcon","renderTemplate","ref","className","iconClass","enableDate","styles","convertStringToHTMLElement","suffix","renderElement","index","replace","info","inputInfo","getValueAsString","formatValue","parseValue","valueMask","hasDifferentDisplayAndSaveFormats","isMultipleMasksField","selectOptions","isHtmlRenderMode","hasValueMaskInput","setCounter","element","count","max","remaining","removeClass","addClass","setContent","concat","flags","refs","wordcount","charcount","maxChars","getValueAt","performInputMapping","getValue","updateValue","changed","attach","loadRefs","getWidget","attachElement","_this2","destroy","promise","resolve","createWidget","addPrefix","addSuffix","addFocusBlurEvents","submitOnEnter","addEventListener","event","keyCode","which","preventDefault","stopPropagation","emit","_this$root","_this3","settings","root","shadowRoot","_this$root2","on","modified","redraw","detach","_this4","focusedComponent","pendingBlur","cancel","delay","validateOn","triggerChange","fromBlur","schema","_len","extend","Array","_key"],"sources":["D:/task/node_modules/formiojs/components/_classes/input/Input.js"],"sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nrequire(\"core-js/modules/es.reflect.construct.js\");\n\nrequire(\"core-js/modules/es.reflect.get.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.symbol.iterator.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es.function.name.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/es.array.find.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.string.split.js\");\n\nrequire(\"core-js/modules/es.string.trim.js\");\n\nrequire(\"core-js/modules/es.string.replace.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\n\nvar _Multivalue2 = _interopRequireDefault(require(\"../multivalue/Multivalue\"));\n\nvar _utils = require(\"../../../utils/utils\");\n\nvar _widgets = _interopRequireDefault(require(\"../../../widgets\"));\n\nvar _nativePromiseOnly = _interopRequireDefault(require(\"native-promise-only\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar Input = /*#__PURE__*/function (_Multivalue) {\n  _inherits(Input, _Multivalue);\n\n  var _super = _createSuper(Input);\n\n  function Input(component, options, data) {\n    var _this;\n\n    _classCallCheck(this, Input);\n\n    _this = _super.call(this, component, options, data);\n    _this.triggerUpdateValueAt = _lodash.default.debounce(_this.updateValueAt.bind(_assertThisInitialized(_this)), 100);\n    return _this;\n  }\n\n  _createClass(Input, [{\n    key: \"inputInfo\",\n    get: function get() {\n      var attr = {\n        name: this.options.name,\n        type: this.component.inputType || 'text',\n        class: 'form-control',\n        lang: this.options.language\n      };\n\n      if (this.options.attachMode === 'builder' || this.options.building) {\n        attr.autocomplete = 'off';\n      }\n\n      if (this.component.inputMode) {\n        attr.inputmode = this.component.inputMode;\n      }\n\n      if (this.component.placeholder) {\n        attr.placeholder = this.t(this.component.placeholder, {\n          _userInput: true\n        });\n      }\n\n      if (this.component.tabindex) {\n        attr.tabindex = this.component.tabindex;\n      }\n\n      if (this.disabled) {\n        attr.disabled = 'disabled';\n      }\n\n      if (this.component.autocomplete) {\n        attr.autocomplete = this.component.autocomplete;\n      }\n\n      _lodash.default.defaults(attr, this.component.attributes);\n\n      return {\n        id: this.key,\n        type: 'input',\n        changeEvent: 'input',\n        content: '',\n        attr: attr\n      };\n    }\n  }, {\n    key: \"maskOptions\",\n    get: function get() {\n      return _lodash.default.map(this.component.inputMasks, function (mask) {\n        return {\n          label: mask.label,\n          value: mask.label\n        };\n      });\n    }\n  }, {\n    key: \"isMultipleMasksField\",\n    get: function get() {\n      return this.component.allowMultipleMasks && !!this.component.inputMasks && !!this.component.inputMasks.length;\n    }\n  }, {\n    key: \"getMaskByName\",\n    value: function getMaskByName(maskName) {\n      var inputMask = _lodash.default.find(this.component.inputMasks, function (inputMask) {\n        return inputMask.label === maskName;\n      });\n\n      return inputMask ? inputMask.mask : undefined;\n    }\n  }, {\n    key: \"setInputMask\",\n    value: function setInputMask(input, inputMask) {\n      var mask = inputMask || this.component.displayMask || this.component.inputMask;\n      return _get(_getPrototypeOf(Input.prototype), \"setInputMask\", this).call(this, input, mask, !this.component.placeholder);\n    }\n  }, {\n    key: \"getMaskOptions\",\n    value: function getMaskOptions() {\n      return this.component.inputMasks.map(function (mask) {\n        return {\n          label: mask.label,\n          value: mask.label\n        };\n      });\n    }\n  }, {\n    key: \"getWordCount\",\n    value: function getWordCount(value) {\n      return !value ? 0 : value.trim().split(/\\s+/).length;\n    }\n  }, {\n    key: \"remainingWords\",\n    get: function get() {\n      var maxWords = _lodash.default.parseInt(_lodash.default.get(this.component, 'validate.maxWords'), 10);\n\n      var wordCount = this.getWordCount(this.dataValue);\n      return maxWords - wordCount;\n    }\n  }, {\n    key: \"prefix\",\n    get: function get() {\n      return this.component.prefix;\n    }\n  }, {\n    key: \"suffix\",\n    get: function get() {\n      if (this.component.widget && this.component.widget.type === 'calendar') {\n        var calendarIcon = this.renderTemplate('icon', {\n          ref: 'icon',\n          // After font-awesome would be updated to v5.x, \"clock-o\" should be replaced with \"clock\"\n          className: this.iconClass(this.component.enableDate || this.component.widget.enableDate ? 'calendar' : 'clock-o'),\n          styles: '',\n          content: ''\n        }).trim();\n\n        if (this.component.prefix !== calendarIcon) {\n          // converting string to HTML markup to render correctly DateTime component in portal.form.io\n          return (0, _utils.convertStringToHTMLElement)(calendarIcon, '[ref=\"icon\"]');\n        }\n      }\n\n      return this.component.suffix;\n    }\n  }, {\n    key: \"renderElement\",\n    value: function renderElement(value, index) {\n      // Double quotes cause the input value to close so replace them with html quote char.\n      if (value && typeof value === 'string') {\n        value = value.replace(/\"/g, '&quot;');\n      }\n\n      var info = this.inputInfo;\n      info.attr = info.attr || {};\n      info.attr.value = this.getValueAsString(this.formatValue(this.parseValue(value))).replace(/\"/g, '&quot;');\n      var valueMask = this.component.inputMask;\n      var displayMask = this.component.displayMask;\n      var hasDifferentDisplayAndSaveFormats = valueMask && displayMask && valueMask !== displayMask;\n\n      if (this.isMultipleMasksField) {\n        info.attr.class += ' formio-multiple-mask-input';\n      }\n\n      return this.isMultipleMasksField ? this.renderTemplate('multipleMasksInput', {\n        input: info,\n        value: value,\n        index: index,\n        selectOptions: this.getMaskOptions() || []\n      }, this.isHtmlRenderMode() ? 'html' : null) : this.renderTemplate('input', {\n        prefix: this.prefix,\n        suffix: this.suffix,\n        input: info,\n        value: this.formatValue(this.parseValue(value)),\n        hasValueMaskInput: hasDifferentDisplayAndSaveFormats,\n        index: index\n      }, this.isHtmlRenderMode() ? 'html' : null);\n    }\n  }, {\n    key: \"setCounter\",\n    value: function setCounter(type, element, count, max) {\n      if (max) {\n        var remaining = max - count;\n\n        if (remaining > 0) {\n          this.removeClass(element, 'text-danger');\n        } else {\n          this.addClass(element, 'text-danger');\n        }\n\n        this.setContent(element, this.t(\"{{ remaining }} \".concat(type, \" remaining.\"), {\n          remaining: remaining\n        }));\n      } else {\n        this.setContent(element, this.t(\"{{ count }} \".concat(type), {\n          count: count\n        }));\n      }\n    }\n  }, {\n    key: \"updateValueAt\",\n    value: function updateValueAt(value, flags, index) {\n      flags = flags || {};\n\n      if (_lodash.default.get(this.component, 'showWordCount', false)) {\n        if (this.refs.wordcount && this.refs.wordcount[index]) {\n          var maxWords = _lodash.default.parseInt(_lodash.default.get(this.component, 'validate.maxWords', 0), 10);\n\n          this.setCounter(this.t('words'), this.refs.wordcount[index], this.getWordCount(value), maxWords);\n        }\n      }\n\n      if (_lodash.default.get(this.component, 'showCharCount', false)) {\n        if (this.refs.charcount && this.refs.charcount[index]) {\n          var maxChars = _lodash.default.parseInt(_lodash.default.get(this.component, 'validate.maxLength', 0), 10);\n\n          this.setCounter(this.t('characters'), this.refs.charcount[index], value.length, maxChars);\n        }\n      }\n    }\n  }, {\n    key: \"getValueAt\",\n    value: function getValueAt(index) {\n      var input = this.performInputMapping(this.refs.input[index]);\n\n      if (input && input.widget) {\n        return input.widget.getValue();\n      }\n\n      return input ? input.value : undefined;\n    }\n  }, {\n    key: \"updateValue\",\n    value: function updateValue(value, flags, index) {\n      flags = flags || {};\n\n      var changed = _get(_getPrototypeOf(Input.prototype), \"updateValue\", this).call(this, value, flags);\n\n      this.triggerUpdateValueAt(this.dataValue, flags, index);\n      return changed;\n    }\n  }, {\n    key: \"parseValue\",\n    value: function parseValue(value) {\n      return value;\n    }\n  }, {\n    key: \"formatValue\",\n    value: function formatValue(value) {\n      return value;\n    }\n  }, {\n    key: \"attach\",\n    value: function attach(element) {\n      this.loadRefs(element, {\n        charcount: 'multiple',\n        wordcount: 'multiple',\n        prefix: 'multiple',\n        suffix: 'multiple'\n      });\n      return _get(_getPrototypeOf(Input.prototype), \"attach\", this).call(this, element);\n    }\n  }, {\n    key: \"getWidget\",\n    value: function getWidget(index) {\n      index = index || 0;\n\n      if (this.refs.input && this.refs.input[index]) {\n        return this.refs.input[index].widget;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"attachElement\",\n    value: function attachElement(element, index) {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(Input.prototype), \"attachElement\", this).call(this, element, index);\n\n      if (element.widget) {\n        element.widget.destroy();\n      } // Attach the widget.\n\n\n      var promise = _nativePromiseOnly.default.resolve();\n\n      element.widget = this.createWidget(index);\n\n      if (element.widget) {\n        promise = element.widget.attach(element);\n\n        if (this.refs.prefix && this.refs.prefix[index]) {\n          element.widget.addPrefix(this.refs.prefix[index]);\n        }\n\n        if (this.refs.suffix && this.refs.suffix[index]) {\n          element.widget.addSuffix(this.refs.suffix[index]);\n        }\n      } // Add focus and blur events.\n\n\n      this.addFocusBlurEvents(element);\n\n      if (this.options.submitOnEnter) {\n        this.addEventListener(element, 'keypress', function (event) {\n          var key = event.keyCode || event.which;\n\n          if (key === 13) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            _this2.emit('submitButton');\n          }\n        });\n      }\n\n      return promise;\n    }\n    /**\n     * Creates an instance of a widget for this component.\n     *\n     * @return {null}\n     */\n\n  }, {\n    key: \"createWidget\",\n    value: function createWidget(index) {\n      var _this$root,\n          _this3 = this;\n\n      // Return null if no widget is found.\n      if (!this.component.widget) {\n        return null;\n      } // Get the widget settings.\n\n\n      var settings = typeof this.component.widget === 'string' ? {\n        type: this.component.widget\n      } : this.component.widget;\n\n      if ((_this$root = this.root) !== null && _this$root !== void 0 && _this$root.shadowRoot) {\n        var _this$root2;\n\n        settings.shadowRoot = (_this$root2 = this.root) === null || _this$root2 === void 0 ? void 0 : _this$root2.shadowRoot;\n      } // Make sure we have a widget.\n\n\n      if (!_widgets.default.hasOwnProperty(settings.type)) {\n        return null;\n      } // Create the widget.\n\n\n      var widget = new _widgets.default[settings.type](settings, this.component, this, index);\n      widget.on('update', function () {\n        return _this3.updateValue(_this3.getValue(), {\n          modified: true\n        }, index);\n      }, true);\n      widget.on('redraw', function () {\n        return _this3.redraw();\n      }, true);\n      return widget;\n    }\n  }, {\n    key: \"detach\",\n    value: function detach() {\n      _get(_getPrototypeOf(Input.prototype), \"detach\", this).call(this);\n\n      if (this.refs && this.refs.input) {\n        for (var i = 0; i <= this.refs.input.length; i++) {\n          var widget = this.getWidget(i);\n\n          if (widget) {\n            widget.destroy();\n          }\n        }\n      }\n\n      this.refs.input = [];\n    }\n  }, {\n    key: \"addFocusBlurEvents\",\n    value: function addFocusBlurEvents(element) {\n      var _this4 = this;\n\n      this.addEventListener(element, 'focus', function () {\n        if (_this4.root.focusedComponent !== _this4) {\n          if (_this4.root.pendingBlur) {\n            _this4.root.pendingBlur();\n          }\n\n          _this4.root.focusedComponent = _this4;\n\n          _this4.emit('focus', _this4);\n        } else if (_this4.root.focusedComponent === _this4 && _this4.root.pendingBlur) {\n          _this4.root.pendingBlur.cancel();\n\n          _this4.root.pendingBlur = null;\n        }\n      });\n      this.addEventListener(element, 'blur', function () {\n        _this4.root.pendingBlur = (0, _utils.delay)(function () {\n          _this4.emit('blur', _this4);\n\n          if (_this4.component.validateOn === 'blur') {\n            _this4.root.triggerChange({\n              fromBlur: true\n            }, {\n              instance: _this4,\n              component: _this4.component,\n              value: _this4.dataValue,\n              flags: {\n                fromBlur: true\n              }\n            });\n          }\n\n          _this4.root.focusedComponent = null;\n          _this4.root.pendingBlur = null;\n        });\n      });\n    }\n  }], [{\n    key: \"schema\",\n    value: function schema() {\n      for (var _len = arguments.length, extend = new Array(_len), _key = 0; _key < _len; _key++) {\n        extend[_key] = arguments[_key];\n      }\n\n      return _Multivalue2.default.schema.apply(_Multivalue2.default, [{\n        widget: {\n          type: 'input'\n        }\n      }].concat(extend));\n    }\n  }]);\n\n  return Input;\n}(_Multivalue2.default);\n\nexports.default = Input;"],"mappings":"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"},"metadata":{},"sourceType":"script"}