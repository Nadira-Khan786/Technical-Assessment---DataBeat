{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.logout = exports.setUser = exports.initAuth = undefined;\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nvar _Formio = require('formiojs/Formio');\nvar _Formio2 = _interopRequireDefault(_Formio);\nvar _constants = require('./constants');\nvar type = _interopRequireWildcard(_constants);\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n    newObj.default = obj;\n    return newObj;\n  }\n}\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nvar requestUser = function requestUser() {\n  return {\n    type: type.USER_REQUEST\n  };\n};\nvar receiveUser = function receiveUser(user) {\n  return {\n    type: type.USER_REQUEST_SUCCESS,\n    user: user\n  };\n};\nvar failUser = function failUser(error) {\n  return {\n    type: type.USER_REQUEST_FAILURE,\n    error: error\n  };\n};\nvar logoutUser = function logoutUser() {\n  return {\n    type: type.USER_LOGOUT\n  };\n};\nvar submissionAccessUser = function submissionAccessUser(submissionAccess) {\n  return {\n    type: type.USER_SUBMISSION_ACCESS,\n    submissionAccess: submissionAccess\n  };\n};\nvar formAccessUser = function formAccessUser(formAccess) {\n  return {\n    type: type.USER_FORM_ACCESS,\n    formAccess: formAccess\n  };\n};\nvar projectAccessUser = function projectAccessUser(projectAccess) {\n  return {\n    type: type.USER_PROJECT_ACCESS,\n    projectAccess: projectAccess\n  };\n};\nvar rolesUser = function rolesUser(roles) {\n  return {\n    type: type.USER_ROLES,\n    roles: roles\n  };\n};\nfunction transformSubmissionAccess(forms) {\n  return Object.values(forms).reduce(function (result, form) {\n    return _extends({}, result, _defineProperty({}, form.name, form.submissionAccess.reduce(function (formSubmissionAccess, access) {\n      return _extends({}, formSubmissionAccess, _defineProperty({}, access.type, access.roles));\n    }, {})));\n  }, {});\n}\nfunction transformFormAccess(forms) {\n  return Object.values(forms).reduce(function (result, form) {\n    return _extends({}, result, _defineProperty({}, form.name, form.access.reduce(function (formAccess, access) {\n      return _extends({}, formAccess, _defineProperty({}, access.type, access.roles));\n    }, {})));\n  }, {});\n}\nfunction transformProjectAccess(projectAccess) {\n  return projectAccess.reduce(function (result, access) {\n    return _extends({}, result, _defineProperty({}, access.type, access.roles));\n  }, {});\n}\nvar initAuth = exports.initAuth = function initAuth() {\n  return function (dispatch) {\n    var projectUrl = _Formio2.default.getProjectUrl();\n    dispatch(requestUser());\n    Promise.all([_Formio2.default.currentUser(), _Formio2.default.makeStaticRequest(projectUrl + '/access').then(function (result) {\n      var submissionAccess = transformSubmissionAccess(result.forms);\n      var formAccess = transformFormAccess(result.forms);\n      dispatch(submissionAccessUser(submissionAccess));\n      dispatch(formAccessUser(formAccess));\n      dispatch(rolesUser(result.roles));\n    }).catch(function () {}), _Formio2.default.makeStaticRequest(projectUrl).then(function (project) {\n      var projectAccess = transformProjectAccess(project.access);\n      dispatch(projectAccessUser(projectAccess));\n    }).catch(function () {})]).then(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 1),\n        user = _ref2[0];\n      if (user) {\n        dispatch(receiveUser(user));\n      } else {\n        dispatch(logoutUser());\n      }\n    }).catch(function (result) {\n      dispatch(failUser(result));\n    });\n  };\n};\nvar setUser = exports.setUser = function setUser(user) {\n  return function (dispatch) {\n    _Formio2.default.setUser(user);\n    dispatch(receiveUser(user));\n  };\n};\nvar logout = exports.logout = function logout() {\n  return function (dispatch) {\n    _Formio2.default.logout();\n    dispatch(logoutUser());\n  };\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","logout","setUser","initAuth","undefined","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","_i","Symbol","iterator","_s","next","done","push","length","err","Array","isArray","TypeError","_extends","assign","target","arguments","source","key","prototype","hasOwnProperty","call","_Formio","require","_Formio2","_interopRequireDefault","_constants","type","_interopRequireWildcard","obj","__esModule","newObj","default","_defineProperty","enumerable","configurable","writable","requestUser","USER_REQUEST","receiveUser","user","USER_REQUEST_SUCCESS","failUser","error","USER_REQUEST_FAILURE","logoutUser","USER_LOGOUT","submissionAccessUser","submissionAccess","USER_SUBMISSION_ACCESS","formAccessUser","formAccess","USER_FORM_ACCESS","projectAccessUser","projectAccess","USER_PROJECT_ACCESS","rolesUser","roles","USER_ROLES","transformSubmissionAccess","forms","values","reduce","result","form","name","formSubmissionAccess","access","transformFormAccess","transformProjectAccess","dispatch","projectUrl","getProjectUrl","Promise","all","currentUser","makeStaticRequest","then","catch","project","_ref","_ref2"],"sources":["D:/task/node_modules/react-formio/lib/modules/auth/actions.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.logout = exports.setUser = exports.initAuth = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _Formio = require('formiojs/Formio');\n\nvar _Formio2 = _interopRequireDefault(_Formio);\n\nvar _constants = require('./constants');\n\nvar type = _interopRequireWildcard(_constants);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar requestUser = function requestUser() {\n  return {\n    type: type.USER_REQUEST\n  };\n};\n\nvar receiveUser = function receiveUser(user) {\n  return {\n    type: type.USER_REQUEST_SUCCESS,\n    user: user\n  };\n};\n\nvar failUser = function failUser(error) {\n  return {\n    type: type.USER_REQUEST_FAILURE,\n    error: error\n  };\n};\n\nvar logoutUser = function logoutUser() {\n  return {\n    type: type.USER_LOGOUT\n  };\n};\n\nvar submissionAccessUser = function submissionAccessUser(submissionAccess) {\n  return {\n    type: type.USER_SUBMISSION_ACCESS,\n    submissionAccess: submissionAccess\n  };\n};\n\nvar formAccessUser = function formAccessUser(formAccess) {\n  return {\n    type: type.USER_FORM_ACCESS,\n    formAccess: formAccess\n  };\n};\n\nvar projectAccessUser = function projectAccessUser(projectAccess) {\n  return {\n    type: type.USER_PROJECT_ACCESS,\n    projectAccess: projectAccess\n  };\n};\n\nvar rolesUser = function rolesUser(roles) {\n  return {\n    type: type.USER_ROLES,\n    roles: roles\n  };\n};\n\nfunction transformSubmissionAccess(forms) {\n  return Object.values(forms).reduce(function (result, form) {\n    return _extends({}, result, _defineProperty({}, form.name, form.submissionAccess.reduce(function (formSubmissionAccess, access) {\n      return _extends({}, formSubmissionAccess, _defineProperty({}, access.type, access.roles));\n    }, {})));\n  }, {});\n}\n\nfunction transformFormAccess(forms) {\n  return Object.values(forms).reduce(function (result, form) {\n    return _extends({}, result, _defineProperty({}, form.name, form.access.reduce(function (formAccess, access) {\n      return _extends({}, formAccess, _defineProperty({}, access.type, access.roles));\n    }, {})));\n  }, {});\n}\n\nfunction transformProjectAccess(projectAccess) {\n  return projectAccess.reduce(function (result, access) {\n    return _extends({}, result, _defineProperty({}, access.type, access.roles));\n  }, {});\n}\n\nvar initAuth = exports.initAuth = function initAuth() {\n  return function (dispatch) {\n    var projectUrl = _Formio2.default.getProjectUrl();\n\n    dispatch(requestUser());\n\n    Promise.all([_Formio2.default.currentUser(), _Formio2.default.makeStaticRequest(projectUrl + '/access').then(function (result) {\n      var submissionAccess = transformSubmissionAccess(result.forms);\n      var formAccess = transformFormAccess(result.forms);\n\n      dispatch(submissionAccessUser(submissionAccess));\n      dispatch(formAccessUser(formAccess));\n      dispatch(rolesUser(result.roles));\n    }).catch(function () {}), _Formio2.default.makeStaticRequest(projectUrl).then(function (project) {\n      var projectAccess = transformProjectAccess(project.access);\n      dispatch(projectAccessUser(projectAccess));\n    }).catch(function () {})]).then(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 1),\n          user = _ref2[0];\n\n      if (user) {\n        dispatch(receiveUser(user));\n      } else {\n        dispatch(logoutUser());\n      }\n    }).catch(function (result) {\n      dispatch(failUser(result));\n    });\n  };\n};\n\nvar setUser = exports.setUser = function setUser(user) {\n  return function (dispatch) {\n    _Formio2.default.setUser(user);\n    dispatch(receiveUser(user));\n  };\n};\n\nvar logout = exports.logout = function logout() {\n  return function (dispatch) {\n    _Formio2.default.logout();\n    dispatch(logoutUser());\n  };\n};"],"mappings":"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"},"metadata":{},"sourceType":"script"}