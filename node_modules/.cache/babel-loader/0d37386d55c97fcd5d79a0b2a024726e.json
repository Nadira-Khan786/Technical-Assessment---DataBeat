{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.array.includes.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nrequire(\"core-js/modules/es.array.concat.js\");\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\nvar _utils = require(\"./utils\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nvar _default = {\n  /**\n   * Appends a number to a component.key to keep it unique\n   *\n   * @param {Object} form\n   *   The components parent form.\n   * @param {Object} component\n   *   The component to uniquify\n   */\n  uniquify: function uniquify(container, component) {\n    var changed = false;\n    var formKeys = {};\n    (0, _utils.eachComponent)(container, function (comp) {\n      formKeys[comp.key] = true;\n      if (['address', 'container', 'datagrid', 'editgrid', 'dynamicWizard', 'tree'].includes(comp.type) || comp.tree || comp.arrayTree) {\n        return true;\n      }\n    }, true); // Recurse into all child components.\n\n    (0, _utils.eachComponent)([component], function (component) {\n      // Skip key uniquification if this component doesn't have a key.\n      if (!component.key) {\n        return;\n      }\n      var newKey = (0, _utils.uniqueKey)(formKeys, component.key);\n      if (newKey !== component.key) {\n        component.key = newKey;\n        changed = true;\n      }\n      formKeys[newKey] = true;\n      if (['address', 'container', 'datagrid', 'editgrid', 'dynamicWizard', 'tree'].includes(component.type) || component.tree || component.arrayTree) {\n        return true;\n      }\n    }, true);\n    return changed;\n  },\n  additionalShortcuts: {\n    button: ['Enter', 'Esc']\n  },\n  getAlphaShortcuts: function getAlphaShortcuts() {\n    return _lodash.default.range('A'.charCodeAt(), 'Z'.charCodeAt() + 1).map(function (charCode) {\n      return String.fromCharCode(charCode);\n    });\n  },\n  getAdditionalShortcuts: function getAdditionalShortcuts(type) {\n    return this.additionalShortcuts[type] || [];\n  },\n  getBindedShortcuts: function getBindedShortcuts(components, input) {\n    var result = [];\n    (0, _utils.eachComponent)(components, function (component) {\n      if (component === input) {\n        return;\n      }\n      if (component.shortcut) {\n        result.push(component.shortcut);\n      }\n      if (component.values) {\n        component.values.forEach(function (value) {\n          if (value.shortcut) {\n            result.push(value.shortcut);\n          }\n        });\n      }\n    }, true);\n    return result;\n  },\n  getAvailableShortcuts: function getAvailableShortcuts(form, component) {\n    if (!component) {\n      return [];\n    }\n    return [''].concat(_lodash.default.difference(this.getAlphaShortcuts().concat(this.getAdditionalShortcuts(component.type)), this.getBindedShortcuts(form.components, component))).map(function (shortcut) {\n      return {\n        label: shortcut,\n        value: shortcut\n      };\n    });\n  }\n};\nexports.default = _default;","map":{"version":3,"names":["Object","defineProperty","exports","value","default","require","_lodash","_interopRequireDefault","_utils","obj","__esModule","_default","uniquify","container","component","changed","formKeys","eachComponent","comp","key","includes","type","tree","arrayTree","newKey","uniqueKey","additionalShortcuts","button","getAlphaShortcuts","range","charCodeAt","map","charCode","String","fromCharCode","getAdditionalShortcuts","getBindedShortcuts","components","input","result","shortcut","push","values","forEach","getAvailableShortcuts","form","concat","difference","label"],"sources":["D:/task/node_modules/formiojs/utils/builder.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es.array.includes.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _default = {\n  /**\n   * Appends a number to a component.key to keep it unique\n   *\n   * @param {Object} form\n   *   The components parent form.\n   * @param {Object} component\n   *   The component to uniquify\n   */\n  uniquify: function uniquify(container, component) {\n    var changed = false;\n    var formKeys = {};\n    (0, _utils.eachComponent)(container, function (comp) {\n      formKeys[comp.key] = true;\n\n      if (['address', 'container', 'datagrid', 'editgrid', 'dynamicWizard', 'tree'].includes(comp.type) || comp.tree || comp.arrayTree) {\n        return true;\n      }\n    }, true); // Recurse into all child components.\n\n    (0, _utils.eachComponent)([component], function (component) {\n      // Skip key uniquification if this component doesn't have a key.\n      if (!component.key) {\n        return;\n      }\n\n      var newKey = (0, _utils.uniqueKey)(formKeys, component.key);\n\n      if (newKey !== component.key) {\n        component.key = newKey;\n        changed = true;\n      }\n\n      formKeys[newKey] = true;\n\n      if (['address', 'container', 'datagrid', 'editgrid', 'dynamicWizard', 'tree'].includes(component.type) || component.tree || component.arrayTree) {\n        return true;\n      }\n    }, true);\n    return changed;\n  },\n  additionalShortcuts: {\n    button: ['Enter', 'Esc']\n  },\n  getAlphaShortcuts: function getAlphaShortcuts() {\n    return _lodash.default.range('A'.charCodeAt(), 'Z'.charCodeAt() + 1).map(function (charCode) {\n      return String.fromCharCode(charCode);\n    });\n  },\n  getAdditionalShortcuts: function getAdditionalShortcuts(type) {\n    return this.additionalShortcuts[type] || [];\n  },\n  getBindedShortcuts: function getBindedShortcuts(components, input) {\n    var result = [];\n    (0, _utils.eachComponent)(components, function (component) {\n      if (component === input) {\n        return;\n      }\n\n      if (component.shortcut) {\n        result.push(component.shortcut);\n      }\n\n      if (component.values) {\n        component.values.forEach(function (value) {\n          if (value.shortcut) {\n            result.push(value.shortcut);\n          }\n        });\n      }\n    }, true);\n    return result;\n  },\n  getAvailableShortcuts: function getAvailableShortcuts(form, component) {\n    if (!component) {\n      return [];\n    }\n\n    return [''].concat(_lodash.default.difference(this.getAlphaShortcuts().concat(this.getAdditionalShortcuts(component.type)), this.getBindedShortcuts(form.components, component))).map(function (shortcut) {\n      return {\n        label: shortcut,\n        value: shortcut\n      };\n    });\n  }\n};\nexports.default = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}