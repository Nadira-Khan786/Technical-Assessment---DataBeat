{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nexports.forms = forms;\nvar _pick2 = require('lodash/pick');\nvar _pick3 = _interopRequireDefault(_pick2);\nvar _constants = require('./constants');\nvar types = _interopRequireWildcard(_constants);\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n    newObj.default = obj;\n    return newObj;\n  }\n}\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction forms(_ref) {\n  var name = _ref.name,\n    _ref$limit = _ref.limit,\n    limit = _ref$limit === undefined ? 10 : _ref$limit,\n    _ref$query = _ref.query,\n    query = _ref$query === undefined ? {} : _ref$query,\n    _ref$select = _ref.select,\n    select = _ref$select === undefined ? '' : _ref$select,\n    _ref$sort = _ref.sort,\n    sort = _ref$sort === undefined ? '' : _ref$sort;\n  var initialState = {\n    error: '',\n    forms: [],\n    isActive: false,\n    limit: limit,\n    pagination: {\n      numPages: 0,\n      page: 1,\n      total: 0\n    },\n    query: query,\n    select: select,\n    sort: sort\n  };\n  return function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments[1];\n\n    // Only proceed for this forms.\n    if (action.name !== name) {\n      return state;\n    }\n    switch (action.type) {\n      case types.FORMS_RESET:\n        return initialState;\n      case types.FORMS_REQUEST:\n        return _extends({}, state, (0, _pick3.default)(action.params, ['limit', 'query', 'select', 'sort']), {\n          error: '',\n          forms: [],\n          isActive: true,\n          pagination: _extends({}, state.pagination, {\n            page: action.page\n          })\n        });\n      case types.FORMS_SUCCESS:\n        {\n          var total = action.forms.serverCount;\n          return _extends({}, state, {\n            forms: action.forms,\n            isActive: false,\n            pagination: _extends({}, state.pagination, {\n              numPages: Math.ceil(total / state.limit),\n              total: total\n            })\n          });\n        }\n      case types.FORMS_FAILURE:\n        return _extends({}, state, {\n          error: action.error,\n          isActive: false\n        });\n      default:\n        return state;\n    }\n  };\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","forms","_pick2","require","_pick3","_interopRequireDefault","_constants","types","_interopRequireWildcard","obj","__esModule","newObj","default","_ref","name","_ref$limit","limit","undefined","_ref$query","query","_ref$select","select","_ref$sort","sort","initialState","error","isActive","pagination","numPages","page","total","state","action","type","FORMS_RESET","FORMS_REQUEST","params","FORMS_SUCCESS","serverCount","Math","ceil","FORMS_FAILURE"],"sources":["D:/task/node_modules/react-formio/lib/modules/forms/reducers.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.forms = forms;\n\nvar _pick2 = require('lodash/pick');\n\nvar _pick3 = _interopRequireDefault(_pick2);\n\nvar _constants = require('./constants');\n\nvar types = _interopRequireWildcard(_constants);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction forms(_ref) {\n  var name = _ref.name,\n      _ref$limit = _ref.limit,\n      limit = _ref$limit === undefined ? 10 : _ref$limit,\n      _ref$query = _ref.query,\n      query = _ref$query === undefined ? {} : _ref$query,\n      _ref$select = _ref.select,\n      select = _ref$select === undefined ? '' : _ref$select,\n      _ref$sort = _ref.sort,\n      sort = _ref$sort === undefined ? '' : _ref$sort;\n\n  var initialState = {\n    error: '',\n    forms: [],\n    isActive: false,\n    limit: limit,\n    pagination: {\n      numPages: 0,\n      page: 1,\n      total: 0\n    },\n    query: query,\n    select: select,\n    sort: sort\n  };\n\n  return function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments[1];\n\n    // Only proceed for this forms.\n    if (action.name !== name) {\n      return state;\n    }\n\n    switch (action.type) {\n      case types.FORMS_RESET:\n        return initialState;\n      case types.FORMS_REQUEST:\n        return _extends({}, state, (0, _pick3.default)(action.params, ['limit', 'query', 'select', 'sort']), {\n          error: '',\n          forms: [],\n          isActive: true,\n          pagination: _extends({}, state.pagination, {\n            page: action.page\n          })\n        });\n      case types.FORMS_SUCCESS:\n        {\n          var total = action.forms.serverCount;\n\n          return _extends({}, state, {\n            forms: action.forms,\n            isActive: false,\n            pagination: _extends({}, state.pagination, {\n              numPages: Math.ceil(total / state.limit),\n              total: total\n            })\n          });\n        }\n      case types.FORMS_FAILURE:\n        return _extends({}, state, {\n          error: action.error,\n          isActive: false\n        });\n      default:\n        return state;\n    }\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}