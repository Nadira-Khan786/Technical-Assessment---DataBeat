{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\nvar _fbemitter = require(\"fbemitter\");\nvar _reactIntl = require(\"react-intl\");\nvar _formValidator = _interopRequireDefault(require(\"./form-validator\"));\nvar _formElements = _interopRequireDefault(require(\"./form-elements\"));\nvar _multiColumn = require(\"./multi-column\");\nvar _customElement = _interopRequireDefault(require(\"./form-elements/custom-element\"));\nvar _registry = _interopRequireDefault(require(\"./stores/registry\"));\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2[\"default\"])(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return (0, _possibleConstructorReturn2[\"default\"])(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nvar Image = _formElements[\"default\"].Image,\n  Checkboxes = _formElements[\"default\"].Checkboxes,\n  Signature = _formElements[\"default\"].Signature,\n  Download = _formElements[\"default\"].Download,\n  Camera = _formElements[\"default\"].Camera,\n  FileUpload = _formElements[\"default\"].FileUpload;\nvar ReactForm = /*#__PURE__*/function (_React$Component) {\n  (0, _inherits2[\"default\"])(ReactForm, _React$Component);\n  var _super = _createSuper(ReactForm);\n  function ReactForm(props) {\n    var _this;\n    (0, _classCallCheck2[\"default\"])(this, ReactForm);\n    _this = _super.call(this, props);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"form\", void 0);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"inputs\", {});\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"answerData\", void 0);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleRenderSubmit\", function () {\n      var name = _this.props.action_name || _this.props.actionName;\n      var actionName = name || 'Submit';\n      var _this$props$submitBut = _this.props.submitButton,\n        submitButton = _this$props$submitBut === void 0 ? false : _this$props$submitBut;\n      return submitButton || /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        type: \"submit\",\n        className: \"btn btn-big\",\n        value: actionName\n      });\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleRenderBack\", function () {\n      var name = _this.props.back_name || _this.props.backName;\n      var backName = name || 'Cancel';\n      var _this$props$backButto = _this.props.backButton,\n        backButton = _this$props$backButto === void 0 ? false : _this$props$backButto;\n      return backButton || /*#__PURE__*/_react[\"default\"].createElement(\"a\", {\n        href: _this.props.back_action,\n        className: \"btn btn-default btn-cancel btn-big\"\n      }, backName);\n    });\n    _this.answerData = _this._convert(props.answer_data);\n    _this.emitter = new _fbemitter.EventEmitter();\n    _this.getDataById = _this.getDataById.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    return _this;\n  }\n  (0, _createClass2[\"default\"])(ReactForm, [{\n    key: \"_convert\",\n    value: function _convert(answers) {\n      if (Array.isArray(answers)) {\n        var result = {};\n        answers.forEach(function (x) {\n          if (x.name.indexOf('tags_') > -1) {\n            result[x.name] = x.value.map(function (y) {\n              return y.value;\n            });\n          } else {\n            result[x.name] = x.value;\n          }\n        });\n        return result;\n      }\n      return answers || {};\n    }\n  }, {\n    key: \"_getDefaultValue\",\n    value: function _getDefaultValue(item) {\n      return this.answerData[item.field_name];\n    }\n  }, {\n    key: \"_optionsDefaultValue\",\n    value: function _optionsDefaultValue(item) {\n      var _this2 = this;\n      var defaultValue = this._getDefaultValue(item);\n      if (defaultValue) {\n        return defaultValue;\n      }\n      var defaultChecked = [];\n      item.options.forEach(function (option) {\n        if (_this2.answerData[\"option_\".concat(option.key)]) {\n          defaultChecked.push(option.key);\n        }\n      });\n      return defaultChecked;\n    }\n  }, {\n    key: \"_getItemValue\",\n    value: function _getItemValue(item, ref) {\n      var $item = {\n        element: item.element,\n        value: ''\n      };\n      if (item.element === 'Rating') {\n        $item.value = ref.inputField.current.state.rating;\n      } else if (item.element === 'Tags') {\n        $item.value = ref.inputField.current.state.value;\n      } else if (item.element === 'DatePicker') {\n        $item.value = ref.state.value;\n      } else if (item.element === 'Camera') {\n        $item.value = ref.state.img;\n      } else if (item.element === 'FileUpload') {\n        $item.value = ref.state.fileUpload;\n      } else if (ref && ref.inputField && ref.inputField.current) {\n        $item = _reactDom[\"default\"].findDOMNode(ref.inputField.current);\n        if ($item && typeof $item.value === 'string') {\n          $item.value = $item.value.trim();\n        }\n      }\n      return $item;\n    }\n  }, {\n    key: \"_isIncorrect\",\n    value: function _isIncorrect(item) {\n      var incorrect = false;\n      if (item.canHaveAnswer) {\n        var ref = this.inputs[item.field_name];\n        if (item.element === 'Checkboxes' || item.element === 'RadioButtons') {\n          item.options.forEach(function (option) {\n            var $option = _reactDom[\"default\"].findDOMNode(ref.options[\"child_ref_\".concat(option.key)]);\n            if (option.hasOwnProperty('correct') && !$option.checked || !option.hasOwnProperty('correct') && $option.checked) {\n              incorrect = true;\n            }\n          });\n        } else {\n          var $item = this._getItemValue(item, ref);\n          if (item.element === 'Rating') {\n            if ($item.value.toString() !== item.correct) {\n              incorrect = true;\n            }\n          } else if ($item.value.toLowerCase() !== item.correct.trim().toLowerCase()) {\n            incorrect = true;\n          }\n        }\n      }\n      return incorrect;\n    }\n  }, {\n    key: \"_isInvalid\",\n    value: function _isInvalid(item) {\n      var invalid = false;\n      if (item.required === true) {\n        var ref = this.inputs[item.field_name];\n        if (item.element === 'Checkboxes' || item.element === 'RadioButtons') {\n          var checked_options = 0;\n          item.options.forEach(function (option) {\n            var $option = _reactDom[\"default\"].findDOMNode(ref.options[\"child_ref_\".concat(option.key)]);\n            if ($option.checked) {\n              checked_options += 1;\n            }\n          });\n          if (checked_options < 1) {\n            // errors.push(item.label + ' is required!');\n            invalid = true;\n          }\n        } else {\n          var $item = this._getItemValue(item, ref);\n          if (item.element === 'Rating') {\n            if ($item.value === 0) {\n              invalid = true;\n            }\n          } else if ($item.value === undefined || $item.value.length < 1) {\n            invalid = true;\n          }\n        }\n      }\n      return invalid;\n    }\n  }, {\n    key: \"_collect\",\n    value: function _collect(item) {\n      var itemData = {\n        name: item.field_name,\n        custom_name: item.custom_name || item.field_name\n      };\n      if (!itemData.name) return null;\n      var ref = this.inputs[item.field_name];\n      if (item.element === 'Checkboxes' || item.element === 'RadioButtons') {\n        var checked_options = [];\n        item.options.forEach(function (option) {\n          var $option = _reactDom[\"default\"].findDOMNode(ref.options[\"child_ref_\".concat(option.key)]);\n          if ($option.checked) {\n            checked_options.push(option.key);\n          }\n        });\n        itemData.value = checked_options;\n      } else {\n        if (!ref) return null;\n        itemData.value = this._getItemValue(item, ref).value;\n      }\n      return itemData;\n    }\n  }, {\n    key: \"_collectFormData\",\n    value: function _collectFormData(data) {\n      var _this3 = this;\n      var formData = [];\n      data.forEach(function (item) {\n        var item_data = _this3._collect(item);\n        if (item_data) {\n          formData.push(item_data);\n        }\n      });\n      return formData;\n    }\n  }, {\n    key: \"_getSignatureImg\",\n    value: function _getSignatureImg(item) {\n      var ref = this.inputs[item.field_name];\n      var $canvas_sig = ref.canvas.current;\n      if ($canvas_sig) {\n        var base64 = $canvas_sig.toDataURL().replace('data:image/png;base64,', '');\n        var isEmpty = $canvas_sig.isEmpty();\n        var $input_sig = _reactDom[\"default\"].findDOMNode(ref.inputField.current);\n        if (isEmpty) {\n          $input_sig.value = '';\n        } else {\n          $input_sig.value = base64;\n        }\n      }\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      var errors = [];\n      if (!this.props.skip_validations) {\n        errors = this.validateForm(); // Publish errors, if any.\n\n        this.emitter.emit('formValidation', errors);\n      } // Only submit if there are no errors.\n\n      if (errors.length < 1) {\n        var onSubmit = this.props.onSubmit;\n        if (onSubmit) {\n          var data = this._collectFormData(this.props.data);\n          onSubmit(data);\n        } else {\n          var $form = _reactDom[\"default\"].findDOMNode(this.form);\n          $form.submit();\n        }\n      }\n    }\n  }, {\n    key: \"validateForm\",\n    value: function validateForm() {\n      var _this4 = this;\n      var errors = [];\n      var data_items = this.props.data;\n      var intl = this.props.intl;\n      if (this.props.display_short) {\n        data_items = this.props.data.filter(function (i) {\n          return i.alternateForm === true;\n        });\n      }\n      data_items.forEach(function (item) {\n        if (item.element === 'Signature') {\n          _this4._getSignatureImg(item);\n        }\n        if (_this4._isInvalid(item)) {\n          errors.push(\"\".concat(item.label, \" \").concat(intl.formatMessage({\n            id: 'message.is-required'\n          }), \"!\"));\n        }\n        if (item.element === 'EmailInput') {\n          var ref = _this4.inputs[item.field_name];\n          var emailValue = _this4._getItemValue(item, ref).value;\n          if (emailValue) {\n            var validateEmail = function validateEmail(email) {\n              return email.match(\n              // eslint-disable-next-line no-useless-escape\n              /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n            };\n            var checkEmail = validateEmail(emailValue);\n            if (!checkEmail) {\n              errors.push(\"\".concat(item.label, \" \").concat(intl.formatMessage({\n                id: 'message.invalid-email'\n              })));\n            }\n          }\n        }\n        if (item.element === 'PhoneNumber') {\n          var _ref = _this4.inputs[item.field_name];\n          var phoneValue = _this4._getItemValue(item, _ref).value;\n          if (phoneValue) {\n            var validatePhone = function validatePhone(phone) {\n              return phone.match(\n              // eslint-disable-next-line no-useless-escape\n              /^[+]?(1\\-|1\\s|1|\\d{3}\\-|\\d{3}\\s|)?((\\(\\d{3}\\))|\\d{3})(\\-|\\s)?(\\d{3})(\\-|\\s)?(\\d{4})$/g);\n            };\n            var checkPhone = validatePhone(phoneValue);\n            if (!checkPhone) {\n              errors.push(\"\".concat(item.label, \" \").concat(intl.formatMessage({\n                id: 'message.invalid-phone-number'\n              })));\n            }\n          }\n        }\n        if (_this4.props.validateForCorrectness && _this4._isIncorrect(item)) {\n          errors.push(\"\".concat(item.label, \" \").concat(intl.formatMessage({\n            id: 'message.was-answered-incorrectly'\n          }), \"!\"));\n        }\n      });\n      return errors;\n    }\n  }, {\n    key: \"getDataById\",\n    value: function getDataById(id) {\n      var data = this.props.data;\n      return data.find(function (x) {\n        return x.id === id;\n      });\n    }\n  }, {\n    key: \"getInputElement\",\n    value: function getInputElement(item) {\n      var _this5 = this;\n      if (item.custom) {\n        return this.getCustomElement(item);\n      }\n      var Input = _formElements[\"default\"][item.element];\n      return /*#__PURE__*/_react[\"default\"].createElement(Input, {\n        handleChange: this.handleChange,\n        ref: function ref(c) {\n          return _this5.inputs[item.field_name] = c;\n        },\n        mutable: true,\n        key: \"form_\".concat(item.id),\n        data: item,\n        read_only: this.props.read_only,\n        defaultValue: this._getDefaultValue(item)\n      });\n    }\n  }, {\n    key: \"getContainerElement\",\n    value: function getContainerElement(item, Element) {\n      var _this6 = this;\n      var controls = item.childItems.map(function (x) {\n        return x ? _this6.getInputElement(_this6.getDataById(x)) : /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, \"\\xA0\");\n      });\n      return /*#__PURE__*/_react[\"default\"].createElement(Element, {\n        mutable: true,\n        key: \"form_\".concat(item.id),\n        data: item,\n        controls: controls\n      });\n    }\n  }, {\n    key: \"getSimpleElement\",\n    value: function getSimpleElement(item) {\n      var Element = _formElements[\"default\"][item.element];\n      return /*#__PURE__*/_react[\"default\"].createElement(Element, {\n        mutable: true,\n        key: \"form_\".concat(item.id),\n        data: item\n      });\n    }\n  }, {\n    key: \"getCustomElement\",\n    value: function getCustomElement(item) {\n      var _this7 = this;\n      var intl = this.props.intl;\n      if (!item.component || typeof item.component !== 'function') {\n        item.component = _registry[\"default\"].get(item.key);\n        if (!item.component) {\n          console.error(\"\".concat(item.element, \" \").concat(intl.formatMessage({\n            id: 'message.was-not-registered'\n          })));\n        }\n      }\n      var inputProps = item.forwardRef && {\n        handleChange: this.handleChange,\n        defaultValue: this._getDefaultValue(item),\n        ref: function ref(c) {\n          return _this7.inputs[item.field_name] = c;\n        }\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(_customElement[\"default\"], (0, _extends2[\"default\"])({\n        mutable: true,\n        read_only: this.props.read_only,\n        key: \"form_\".concat(item.id),\n        data: item\n      }, inputProps));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this8 = this;\n      var data_items = this.props.data;\n      if (this.props.display_short) {\n        data_items = this.props.data.filter(function (i) {\n          return i.alternateForm === true;\n        });\n      }\n      data_items.forEach(function (item) {\n        if (item && item.readOnly && item.variableKey && _this8.props.variables[item.variableKey]) {\n          _this8.answerData[item.field_name] = _this8.props.variables[item.variableKey];\n        }\n      });\n      var items = data_items.filter(function (x) {\n        return !x.parentId;\n      }).map(function (item) {\n        if (!item) return null;\n        switch (item.element) {\n          case 'TextInput':\n          case 'EmailInput':\n          case 'PhoneNumber':\n          case 'NumberInput':\n          case 'TextArea':\n          case 'Dropdown':\n          case 'DatePicker':\n          case 'RadioButtons':\n          case 'Rating':\n          case 'Tags':\n          case 'Range':\n            return _this8.getInputElement(item);\n          case 'CustomElement':\n            return _this8.getCustomElement(item);\n          case 'MultiColumnRow':\n            return _this8.getContainerElement(item, _multiColumn.MultiColumnRow);\n          case 'ThreeColumnRow':\n            return _this8.getContainerElement(item, _multiColumn.ThreeColumnRow);\n          case 'TwoColumnRow':\n            return _this8.getContainerElement(item, _multiColumn.TwoColumnRow);\n          case 'Signature':\n            return /*#__PURE__*/_react[\"default\"].createElement(Signature, {\n              ref: function ref(c) {\n                return _this8.inputs[item.field_name] = c;\n              },\n              read_only: _this8.props.read_only || item.readOnly,\n              mutable: true,\n              key: \"form_\".concat(item.id),\n              data: item,\n              defaultValue: _this8._getDefaultValue(item)\n            });\n          case 'Checkboxes':\n            return /*#__PURE__*/_react[\"default\"].createElement(Checkboxes, {\n              ref: function ref(c) {\n                return _this8.inputs[item.field_name] = c;\n              },\n              read_only: _this8.props.read_only,\n              handleChange: _this8.handleChange,\n              mutable: true,\n              key: \"form_\".concat(item.id),\n              data: item,\n              defaultValue: _this8._optionsDefaultValue(item)\n            });\n          case 'Image':\n            return /*#__PURE__*/_react[\"default\"].createElement(Image, {\n              ref: function ref(c) {\n                return _this8.inputs[item.field_name] = c;\n              },\n              handleChange: _this8.handleChange,\n              mutable: true,\n              key: \"form_\".concat(item.id),\n              data: item,\n              defaultValue: _this8._getDefaultValue(item)\n            });\n          case 'Download':\n            return /*#__PURE__*/_react[\"default\"].createElement(Download, {\n              download_path: _this8.props.download_path,\n              mutable: true,\n              key: \"form_\".concat(item.id),\n              data: item\n            });\n          case 'Camera':\n            return /*#__PURE__*/_react[\"default\"].createElement(Camera, {\n              ref: function ref(c) {\n                return _this8.inputs[item.field_name] = c;\n              },\n              read_only: _this8.props.read_only || item.readOnly,\n              mutable: true,\n              key: \"form_\".concat(item.id),\n              data: item,\n              defaultValue: _this8._getDefaultValue(item)\n            });\n          case 'FileUpload':\n            return /*#__PURE__*/_react[\"default\"].createElement(FileUpload, {\n              ref: function ref(c) {\n                return _this8.inputs[item.field_name] = c;\n              },\n              read_only: _this8.props.read_only || item.readOnly,\n              mutable: true,\n              key: \"form_\".concat(item.id),\n              data: item,\n              defaultValue: _this8._getDefaultValue(item)\n            });\n          default:\n            return _this8.getSimpleElement(item);\n        }\n      });\n      var formTokenStyle = {\n        display: 'none'\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(_formValidator[\"default\"], {\n        emitter: this.emitter\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: \"react-form-builder-form\"\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"form\", {\n        encType: \"multipart/form-data\",\n        ref: function ref(c) {\n          return _this8.form = c;\n        },\n        action: this.props.form_action,\n        onSubmit: this.handleSubmit.bind(this),\n        method: this.props.form_method\n      }, this.props.authenticity_token && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: formTokenStyle\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        name: \"utf8\",\n        type: \"hidden\",\n        value: \"\\u2713\"\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        name: \"authenticity_token\",\n        type: \"hidden\",\n        value: this.props.authenticity_token\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        name: \"task_id\",\n        type: \"hidden\",\n        value: this.props.task_id\n      })), items, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: \"btn-toolbar\"\n      }, !this.props.hide_actions && this.handleRenderSubmit(), !this.props.hide_actions && this.props.back_action && this.handleRenderBack()))));\n    }\n  }]);\n  return ReactForm;\n}(_react[\"default\"].Component);\nvar _default = (0, _reactIntl.injectIntl)(ReactForm);\nexports[\"default\"] = _default;\nReactForm.defaultProps = {\n  validateForCorrectness: false\n};","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_extends2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","_react","_reactDom","_fbemitter","_reactIntl","_formValidator","_formElements","_multiColumn","_customElement","_registry","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","prototype","valueOf","call","e","Image","Checkboxes","Signature","Download","Camera","FileUpload","ReactForm","_React$Component","_super","props","_this","name","action_name","actionName","_this$props$submitBut","submitButton","createElement","type","className","back_name","backName","_this$props$backButto","backButton","href","back_action","answerData","_convert","answer_data","emitter","EventEmitter","getDataById","bind","key","answers","Array","isArray","forEach","x","indexOf","map","y","_getDefaultValue","item","field_name","_optionsDefaultValue","_this2","defaultValue","defaultChecked","options","option","concat","push","_getItemValue","ref","$item","element","inputField","current","state","rating","img","fileUpload","findDOMNode","trim","_isIncorrect","incorrect","canHaveAnswer","inputs","$option","hasOwnProperty","checked","toString","correct","toLowerCase","_isInvalid","invalid","required","checked_options","undefined","length","_collect","itemData","custom_name","_collectFormData","data","_this3","formData","item_data","_getSignatureImg","$canvas_sig","canvas","base64","toDataURL","replace","isEmpty","$input_sig","handleSubmit","preventDefault","errors","skip_validations","validateForm","emit","onSubmit","$form","form","submit","_this4","data_items","intl","display_short","filter","i","alternateForm","label","formatMessage","id","emailValue","validateEmail","email","match","checkEmail","_ref","phoneValue","validatePhone","phone","checkPhone","validateForCorrectness","find","getInputElement","_this5","custom","getCustomElement","Input","handleChange","c","mutable","read_only","getContainerElement","Element","_this6","controls","childItems","getSimpleElement","_this7","component","get","console","error","inputProps","forwardRef","render","_this8","readOnly","variableKey","variables","items","parentId","MultiColumnRow","ThreeColumnRow","TwoColumnRow","download_path","formTokenStyle","display","encType","action","form_action","method","form_method","authenticity_token","style","task_id","hide_actions","handleRenderSubmit","handleRenderBack","Component","_default","injectIntl","defaultProps"],"sources":["D:/task/node_modules/react-form-builder2/lib/form.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _fbemitter = require(\"fbemitter\");\n\nvar _reactIntl = require(\"react-intl\");\n\nvar _formValidator = _interopRequireDefault(require(\"./form-validator\"));\n\nvar _formElements = _interopRequireDefault(require(\"./form-elements\"));\n\nvar _multiColumn = require(\"./multi-column\");\n\nvar _customElement = _interopRequireDefault(require(\"./form-elements/custom-element\"));\n\nvar _registry = _interopRequireDefault(require(\"./stores/registry\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Image = _formElements[\"default\"].Image,\n    Checkboxes = _formElements[\"default\"].Checkboxes,\n    Signature = _formElements[\"default\"].Signature,\n    Download = _formElements[\"default\"].Download,\n    Camera = _formElements[\"default\"].Camera,\n    FileUpload = _formElements[\"default\"].FileUpload;\n\nvar ReactForm = /*#__PURE__*/function (_React$Component) {\n  (0, _inherits2[\"default\"])(ReactForm, _React$Component);\n\n  var _super = _createSuper(ReactForm);\n\n  function ReactForm(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, ReactForm);\n    _this = _super.call(this, props);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"form\", void 0);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"inputs\", {});\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"answerData\", void 0);\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleRenderSubmit\", function () {\n      var name = _this.props.action_name || _this.props.actionName;\n      var actionName = name || 'Submit';\n      var _this$props$submitBut = _this.props.submitButton,\n          submitButton = _this$props$submitBut === void 0 ? false : _this$props$submitBut;\n      return submitButton || /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        type: \"submit\",\n        className: \"btn btn-big\",\n        value: actionName\n      });\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"handleRenderBack\", function () {\n      var name = _this.props.back_name || _this.props.backName;\n      var backName = name || 'Cancel';\n      var _this$props$backButto = _this.props.backButton,\n          backButton = _this$props$backButto === void 0 ? false : _this$props$backButto;\n      return backButton || /*#__PURE__*/_react[\"default\"].createElement(\"a\", {\n        href: _this.props.back_action,\n        className: \"btn btn-default btn-cancel btn-big\"\n      }, backName);\n    });\n    _this.answerData = _this._convert(props.answer_data);\n    _this.emitter = new _fbemitter.EventEmitter();\n    _this.getDataById = _this.getDataById.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(ReactForm, [{\n    key: \"_convert\",\n    value: function _convert(answers) {\n      if (Array.isArray(answers)) {\n        var result = {};\n        answers.forEach(function (x) {\n          if (x.name.indexOf('tags_') > -1) {\n            result[x.name] = x.value.map(function (y) {\n              return y.value;\n            });\n          } else {\n            result[x.name] = x.value;\n          }\n        });\n        return result;\n      }\n\n      return answers || {};\n    }\n  }, {\n    key: \"_getDefaultValue\",\n    value: function _getDefaultValue(item) {\n      return this.answerData[item.field_name];\n    }\n  }, {\n    key: \"_optionsDefaultValue\",\n    value: function _optionsDefaultValue(item) {\n      var _this2 = this;\n\n      var defaultValue = this._getDefaultValue(item);\n\n      if (defaultValue) {\n        return defaultValue;\n      }\n\n      var defaultChecked = [];\n      item.options.forEach(function (option) {\n        if (_this2.answerData[\"option_\".concat(option.key)]) {\n          defaultChecked.push(option.key);\n        }\n      });\n      return defaultChecked;\n    }\n  }, {\n    key: \"_getItemValue\",\n    value: function _getItemValue(item, ref) {\n      var $item = {\n        element: item.element,\n        value: ''\n      };\n\n      if (item.element === 'Rating') {\n        $item.value = ref.inputField.current.state.rating;\n      } else if (item.element === 'Tags') {\n        $item.value = ref.inputField.current.state.value;\n      } else if (item.element === 'DatePicker') {\n        $item.value = ref.state.value;\n      } else if (item.element === 'Camera') {\n        $item.value = ref.state.img;\n      } else if (item.element === 'FileUpload') {\n        $item.value = ref.state.fileUpload;\n      } else if (ref && ref.inputField && ref.inputField.current) {\n        $item = _reactDom[\"default\"].findDOMNode(ref.inputField.current);\n\n        if ($item && typeof $item.value === 'string') {\n          $item.value = $item.value.trim();\n        }\n      }\n\n      return $item;\n    }\n  }, {\n    key: \"_isIncorrect\",\n    value: function _isIncorrect(item) {\n      var incorrect = false;\n\n      if (item.canHaveAnswer) {\n        var ref = this.inputs[item.field_name];\n\n        if (item.element === 'Checkboxes' || item.element === 'RadioButtons') {\n          item.options.forEach(function (option) {\n            var $option = _reactDom[\"default\"].findDOMNode(ref.options[\"child_ref_\".concat(option.key)]);\n\n            if (option.hasOwnProperty('correct') && !$option.checked || !option.hasOwnProperty('correct') && $option.checked) {\n              incorrect = true;\n            }\n          });\n        } else {\n          var $item = this._getItemValue(item, ref);\n\n          if (item.element === 'Rating') {\n            if ($item.value.toString() !== item.correct) {\n              incorrect = true;\n            }\n          } else if ($item.value.toLowerCase() !== item.correct.trim().toLowerCase()) {\n            incorrect = true;\n          }\n        }\n      }\n\n      return incorrect;\n    }\n  }, {\n    key: \"_isInvalid\",\n    value: function _isInvalid(item) {\n      var invalid = false;\n\n      if (item.required === true) {\n        var ref = this.inputs[item.field_name];\n\n        if (item.element === 'Checkboxes' || item.element === 'RadioButtons') {\n          var checked_options = 0;\n          item.options.forEach(function (option) {\n            var $option = _reactDom[\"default\"].findDOMNode(ref.options[\"child_ref_\".concat(option.key)]);\n\n            if ($option.checked) {\n              checked_options += 1;\n            }\n          });\n\n          if (checked_options < 1) {\n            // errors.push(item.label + ' is required!');\n            invalid = true;\n          }\n        } else {\n          var $item = this._getItemValue(item, ref);\n\n          if (item.element === 'Rating') {\n            if ($item.value === 0) {\n              invalid = true;\n            }\n          } else if ($item.value === undefined || $item.value.length < 1) {\n            invalid = true;\n          }\n        }\n      }\n\n      return invalid;\n    }\n  }, {\n    key: \"_collect\",\n    value: function _collect(item) {\n      var itemData = {\n        name: item.field_name,\n        custom_name: item.custom_name || item.field_name\n      };\n      if (!itemData.name) return null;\n      var ref = this.inputs[item.field_name];\n\n      if (item.element === 'Checkboxes' || item.element === 'RadioButtons') {\n        var checked_options = [];\n        item.options.forEach(function (option) {\n          var $option = _reactDom[\"default\"].findDOMNode(ref.options[\"child_ref_\".concat(option.key)]);\n\n          if ($option.checked) {\n            checked_options.push(option.key);\n          }\n        });\n        itemData.value = checked_options;\n      } else {\n        if (!ref) return null;\n        itemData.value = this._getItemValue(item, ref).value;\n      }\n\n      return itemData;\n    }\n  }, {\n    key: \"_collectFormData\",\n    value: function _collectFormData(data) {\n      var _this3 = this;\n\n      var formData = [];\n      data.forEach(function (item) {\n        var item_data = _this3._collect(item);\n\n        if (item_data) {\n          formData.push(item_data);\n        }\n      });\n      return formData;\n    }\n  }, {\n    key: \"_getSignatureImg\",\n    value: function _getSignatureImg(item) {\n      var ref = this.inputs[item.field_name];\n      var $canvas_sig = ref.canvas.current;\n\n      if ($canvas_sig) {\n        var base64 = $canvas_sig.toDataURL().replace('data:image/png;base64,', '');\n        var isEmpty = $canvas_sig.isEmpty();\n\n        var $input_sig = _reactDom[\"default\"].findDOMNode(ref.inputField.current);\n\n        if (isEmpty) {\n          $input_sig.value = '';\n        } else {\n          $input_sig.value = base64;\n        }\n      }\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      var errors = [];\n\n      if (!this.props.skip_validations) {\n        errors = this.validateForm(); // Publish errors, if any.\n\n        this.emitter.emit('formValidation', errors);\n      } // Only submit if there are no errors.\n\n\n      if (errors.length < 1) {\n        var onSubmit = this.props.onSubmit;\n\n        if (onSubmit) {\n          var data = this._collectFormData(this.props.data);\n\n          onSubmit(data);\n        } else {\n          var $form = _reactDom[\"default\"].findDOMNode(this.form);\n\n          $form.submit();\n        }\n      }\n    }\n  }, {\n    key: \"validateForm\",\n    value: function validateForm() {\n      var _this4 = this;\n\n      var errors = [];\n      var data_items = this.props.data;\n      var intl = this.props.intl;\n\n      if (this.props.display_short) {\n        data_items = this.props.data.filter(function (i) {\n          return i.alternateForm === true;\n        });\n      }\n\n      data_items.forEach(function (item) {\n        if (item.element === 'Signature') {\n          _this4._getSignatureImg(item);\n        }\n\n        if (_this4._isInvalid(item)) {\n          errors.push(\"\".concat(item.label, \" \").concat(intl.formatMessage({\n            id: 'message.is-required'\n          }), \"!\"));\n        }\n\n        if (item.element === 'EmailInput') {\n          var ref = _this4.inputs[item.field_name];\n\n          var emailValue = _this4._getItemValue(item, ref).value;\n\n          if (emailValue) {\n            var validateEmail = function validateEmail(email) {\n              return email.match( // eslint-disable-next-line no-useless-escape\n              /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n            };\n\n            var checkEmail = validateEmail(emailValue);\n\n            if (!checkEmail) {\n              errors.push(\"\".concat(item.label, \" \").concat(intl.formatMessage({\n                id: 'message.invalid-email'\n              })));\n            }\n          }\n        }\n\n        if (item.element === 'PhoneNumber') {\n          var _ref = _this4.inputs[item.field_name];\n\n          var phoneValue = _this4._getItemValue(item, _ref).value;\n\n          if (phoneValue) {\n            var validatePhone = function validatePhone(phone) {\n              return phone.match( // eslint-disable-next-line no-useless-escape\n              /^[+]?(1\\-|1\\s|1|\\d{3}\\-|\\d{3}\\s|)?((\\(\\d{3}\\))|\\d{3})(\\-|\\s)?(\\d{3})(\\-|\\s)?(\\d{4})$/g);\n            };\n\n            var checkPhone = validatePhone(phoneValue);\n\n            if (!checkPhone) {\n              errors.push(\"\".concat(item.label, \" \").concat(intl.formatMessage({\n                id: 'message.invalid-phone-number'\n              })));\n            }\n          }\n        }\n\n        if (_this4.props.validateForCorrectness && _this4._isIncorrect(item)) {\n          errors.push(\"\".concat(item.label, \" \").concat(intl.formatMessage({\n            id: 'message.was-answered-incorrectly'\n          }), \"!\"));\n        }\n      });\n      return errors;\n    }\n  }, {\n    key: \"getDataById\",\n    value: function getDataById(id) {\n      var data = this.props.data;\n      return data.find(function (x) {\n        return x.id === id;\n      });\n    }\n  }, {\n    key: \"getInputElement\",\n    value: function getInputElement(item) {\n      var _this5 = this;\n\n      if (item.custom) {\n        return this.getCustomElement(item);\n      }\n\n      var Input = _formElements[\"default\"][item.element];\n      return /*#__PURE__*/_react[\"default\"].createElement(Input, {\n        handleChange: this.handleChange,\n        ref: function ref(c) {\n          return _this5.inputs[item.field_name] = c;\n        },\n        mutable: true,\n        key: \"form_\".concat(item.id),\n        data: item,\n        read_only: this.props.read_only,\n        defaultValue: this._getDefaultValue(item)\n      });\n    }\n  }, {\n    key: \"getContainerElement\",\n    value: function getContainerElement(item, Element) {\n      var _this6 = this;\n\n      var controls = item.childItems.map(function (x) {\n        return x ? _this6.getInputElement(_this6.getDataById(x)) : /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, \"\\xA0\");\n      });\n      return /*#__PURE__*/_react[\"default\"].createElement(Element, {\n        mutable: true,\n        key: \"form_\".concat(item.id),\n        data: item,\n        controls: controls\n      });\n    }\n  }, {\n    key: \"getSimpleElement\",\n    value: function getSimpleElement(item) {\n      var Element = _formElements[\"default\"][item.element];\n      return /*#__PURE__*/_react[\"default\"].createElement(Element, {\n        mutable: true,\n        key: \"form_\".concat(item.id),\n        data: item\n      });\n    }\n  }, {\n    key: \"getCustomElement\",\n    value: function getCustomElement(item) {\n      var _this7 = this;\n\n      var intl = this.props.intl;\n\n      if (!item.component || typeof item.component !== 'function') {\n        item.component = _registry[\"default\"].get(item.key);\n\n        if (!item.component) {\n          console.error(\"\".concat(item.element, \" \").concat(intl.formatMessage({\n            id: 'message.was-not-registered'\n          })));\n        }\n      }\n\n      var inputProps = item.forwardRef && {\n        handleChange: this.handleChange,\n        defaultValue: this._getDefaultValue(item),\n        ref: function ref(c) {\n          return _this7.inputs[item.field_name] = c;\n        }\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(_customElement[\"default\"], (0, _extends2[\"default\"])({\n        mutable: true,\n        read_only: this.props.read_only,\n        key: \"form_\".concat(item.id),\n        data: item\n      }, inputProps));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this8 = this;\n\n      var data_items = this.props.data;\n\n      if (this.props.display_short) {\n        data_items = this.props.data.filter(function (i) {\n          return i.alternateForm === true;\n        });\n      }\n\n      data_items.forEach(function (item) {\n        if (item && item.readOnly && item.variableKey && _this8.props.variables[item.variableKey]) {\n          _this8.answerData[item.field_name] = _this8.props.variables[item.variableKey];\n        }\n      });\n      var items = data_items.filter(function (x) {\n        return !x.parentId;\n      }).map(function (item) {\n        if (!item) return null;\n\n        switch (item.element) {\n          case 'TextInput':\n          case 'EmailInput':\n          case 'PhoneNumber':\n          case 'NumberInput':\n          case 'TextArea':\n          case 'Dropdown':\n          case 'DatePicker':\n          case 'RadioButtons':\n          case 'Rating':\n          case 'Tags':\n          case 'Range':\n            return _this8.getInputElement(item);\n\n          case 'CustomElement':\n            return _this8.getCustomElement(item);\n\n          case 'MultiColumnRow':\n            return _this8.getContainerElement(item, _multiColumn.MultiColumnRow);\n\n          case 'ThreeColumnRow':\n            return _this8.getContainerElement(item, _multiColumn.ThreeColumnRow);\n\n          case 'TwoColumnRow':\n            return _this8.getContainerElement(item, _multiColumn.TwoColumnRow);\n\n          case 'Signature':\n            return /*#__PURE__*/_react[\"default\"].createElement(Signature, {\n              ref: function ref(c) {\n                return _this8.inputs[item.field_name] = c;\n              },\n              read_only: _this8.props.read_only || item.readOnly,\n              mutable: true,\n              key: \"form_\".concat(item.id),\n              data: item,\n              defaultValue: _this8._getDefaultValue(item)\n            });\n\n          case 'Checkboxes':\n            return /*#__PURE__*/_react[\"default\"].createElement(Checkboxes, {\n              ref: function ref(c) {\n                return _this8.inputs[item.field_name] = c;\n              },\n              read_only: _this8.props.read_only,\n              handleChange: _this8.handleChange,\n              mutable: true,\n              key: \"form_\".concat(item.id),\n              data: item,\n              defaultValue: _this8._optionsDefaultValue(item)\n            });\n\n          case 'Image':\n            return /*#__PURE__*/_react[\"default\"].createElement(Image, {\n              ref: function ref(c) {\n                return _this8.inputs[item.field_name] = c;\n              },\n              handleChange: _this8.handleChange,\n              mutable: true,\n              key: \"form_\".concat(item.id),\n              data: item,\n              defaultValue: _this8._getDefaultValue(item)\n            });\n\n          case 'Download':\n            return /*#__PURE__*/_react[\"default\"].createElement(Download, {\n              download_path: _this8.props.download_path,\n              mutable: true,\n              key: \"form_\".concat(item.id),\n              data: item\n            });\n\n          case 'Camera':\n            return /*#__PURE__*/_react[\"default\"].createElement(Camera, {\n              ref: function ref(c) {\n                return _this8.inputs[item.field_name] = c;\n              },\n              read_only: _this8.props.read_only || item.readOnly,\n              mutable: true,\n              key: \"form_\".concat(item.id),\n              data: item,\n              defaultValue: _this8._getDefaultValue(item)\n            });\n\n          case 'FileUpload':\n            return /*#__PURE__*/_react[\"default\"].createElement(FileUpload, {\n              ref: function ref(c) {\n                return _this8.inputs[item.field_name] = c;\n              },\n              read_only: _this8.props.read_only || item.readOnly,\n              mutable: true,\n              key: \"form_\".concat(item.id),\n              data: item,\n              defaultValue: _this8._getDefaultValue(item)\n            });\n\n          default:\n            return _this8.getSimpleElement(item);\n        }\n      });\n      var formTokenStyle = {\n        display: 'none'\n      };\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(_formValidator[\"default\"], {\n        emitter: this.emitter\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: \"react-form-builder-form\"\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"form\", {\n        encType: \"multipart/form-data\",\n        ref: function ref(c) {\n          return _this8.form = c;\n        },\n        action: this.props.form_action,\n        onSubmit: this.handleSubmit.bind(this),\n        method: this.props.form_method\n      }, this.props.authenticity_token && /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        style: formTokenStyle\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        name: \"utf8\",\n        type: \"hidden\",\n        value: \"\\u2713\"\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        name: \"authenticity_token\",\n        type: \"hidden\",\n        value: this.props.authenticity_token\n      }), /*#__PURE__*/_react[\"default\"].createElement(\"input\", {\n        name: \"task_id\",\n        type: \"hidden\",\n        value: this.props.task_id\n      })), items, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        className: \"btn-toolbar\"\n      }, !this.props.hide_actions && this.handleRenderSubmit(), !this.props.hide_actions && this.props.back_action && this.handleRenderBack()))));\n    }\n  }]);\n  return ReactForm;\n}(_react[\"default\"].Component);\n\nvar _default = (0, _reactIntl.injectIntl)(ReactForm);\n\nexports[\"default\"] = _default;\nReactForm.defaultProps = {\n  validateForCorrectness: false\n};"],"mappings":"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"},"metadata":{},"sourceType":"script"}