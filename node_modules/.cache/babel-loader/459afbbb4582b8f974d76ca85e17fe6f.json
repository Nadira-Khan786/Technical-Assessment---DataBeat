{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.applyFormChanges = applyFormChanges;\nexports.eachComponent = eachComponent;\nexports.escapeRegExCharacters = escapeRegExCharacters;\nexports.findComponent = findComponent;\nexports.findComponents = findComponents;\nexports.flattenComponents = flattenComponents;\nexports.formatAsCurrency = formatAsCurrency;\nexports.generateFormChange = generateFormChange;\nexports.getComponent = getComponent;\nexports.getStrings = getStrings;\nexports.getValue = getValue;\nexports.hasCondition = hasCondition;\nexports.isLayoutComponent = isLayoutComponent;\nexports.matchComponent = matchComponent;\nexports.parseFloatExt = parseFloatExt;\nexports.removeComponent = removeComponent;\nexports.searchComponents = searchComponents;\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nrequire(\"core-js/modules/es.array.concat.js\");\nrequire(\"core-js/modules/es.array.includes.js\");\nrequire(\"core-js/modules/es.array.slice.js\");\nrequire(\"core-js/modules/es.array.splice.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.string.replace.js\");\nrequire(\"core-js/modules/es.string.split.js\");\nrequire(\"core-js/modules/es.regexp.to-string.js\");\nrequire(\"core-js/modules/es.array.map.js\");\nrequire(\"core-js/modules/es.array.from.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _get = _interopRequireDefault(require(\"lodash/get\"));\nvar _set = _interopRequireDefault(require(\"lodash/set\"));\nvar _has = _interopRequireDefault(require(\"lodash/has\"));\nvar _clone = _interopRequireDefault(require(\"lodash/clone\"));\nvar _forOwn = _interopRequireDefault(require(\"lodash/forOwn\"));\nvar _isString = _interopRequireDefault(require(\"lodash/isString\"));\nvar _isNaN = _interopRequireDefault(require(\"lodash/isNaN\"));\nvar _isNil = _interopRequireDefault(require(\"lodash/isNil\"));\nvar _isPlainObject = _interopRequireDefault(require(\"lodash/isPlainObject\"));\nvar _round = _interopRequireDefault(require(\"lodash/round\"));\nvar _chunk = _interopRequireDefault(require(\"lodash/chunk\"));\nvar _pad = _interopRequireDefault(require(\"lodash/pad\"));\nvar _fastJsonPatch = require(\"fast-json-patch\");\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\n/**\n * Determine if a component is a layout component or not.\n *\n * @param {Object} component\n *   The component to check.\n *\n * @returns {Boolean}\n *   Whether or not the component is a layout component.\n */\nfunction isLayoutComponent(component) {\n  return Boolean(component.columns && Array.isArray(component.columns) || component.rows && Array.isArray(component.rows) || component.components && Array.isArray(component.components));\n}\n/**\n * Iterate through each component within a form.\n *\n * @param {Object} components\n *   The components to iterate.\n * @param {Function} fn\n *   The iteration function to invoke for each component.\n * @param {Boolean} includeAll\n *   Whether or not to include layout components.\n * @param {String} path\n *   The current data path of the element. Example: data.user.firstName\n * @param {Object} parent\n *   The parent object.\n */\n\nfunction eachComponent(components, fn, includeAll, path, parent, inRecursion) {\n  if (!components) return;\n  path = path || '';\n  if (inRecursion) {\n    if (components.noRecurse) {\n      delete components.noRecurse;\n      return;\n    }\n    components.noRecurse = true;\n  }\n  components.forEach(function (component) {\n    if (!component) {\n      return;\n    }\n    var hasColumns = component.columns && Array.isArray(component.columns);\n    var hasRows = component.rows && Array.isArray(component.rows);\n    var hasComps = component.components && Array.isArray(component.components);\n    var noRecurse = false;\n    var newPath = component.key ? path ? \"\".concat(path, \".\").concat(component.key) : component.key : ''; // Keep track of parent references.\n\n    if (parent) {\n      // Ensure we don't create infinite JSON structures.\n      component.parent = (0, _clone.default)(parent);\n      delete component.parent.components;\n      delete component.parent.componentMap;\n      delete component.parent.columns;\n      delete component.parent.rows;\n    } // there's no need to add other layout components here because we expect that those would either have columns, rows or components\n\n    var layoutTypes = ['htmlelement', 'content'];\n    var isLayoutComponent = hasColumns || hasRows || hasComps && !component.input || layoutTypes.indexOf(component.type) > -1;\n    if (includeAll || component.tree || !isLayoutComponent) {\n      noRecurse = fn(component, newPath, components);\n    }\n    var subPath = function subPath() {\n      if (component.key && !['panel', 'table', 'well', 'columns', 'fieldset', 'tabs', 'form'].includes(component.type) && (['datagrid', 'container', 'editgrid', 'address', 'dynamicWizard', 'datatable'].includes(component.type) || component.tree)) {\n        return newPath;\n      } else if (component.key && component.type === 'form') {\n        return \"\".concat(newPath, \".data\");\n      }\n      return path;\n    };\n    if (!noRecurse) {\n      if (hasColumns) {\n        component.columns.forEach(function (column) {\n          return eachComponent(column.components, fn, includeAll, subPath(), parent ? component : null);\n        }, true);\n      } else if (hasRows) {\n        component.rows.forEach(function (row) {\n          if (Array.isArray(row)) {\n            row.forEach(function (column) {\n              return eachComponent(column.components, fn, includeAll, subPath(), parent ? component : null);\n            }, true);\n          }\n        });\n      } else if (hasComps) {\n        eachComponent(component.components, fn, includeAll, subPath(), parent ? component : null, true);\n      }\n    }\n  });\n  if (components.noRecurse) {\n    delete components.noRecurse;\n  }\n}\n/**\n * Matches if a component matches the query.\n *\n * @param component\n * @param query\n * @return {boolean}\n */\n\nfunction matchComponent(component, query) {\n  if ((0, _isString.default)(query)) {\n    return component.key === query || component.path === query;\n  } else {\n    var matches = false;\n    (0, _forOwn.default)(query, function (value, key) {\n      matches = (0, _get.default)(component, key) === value;\n      if (!matches) {\n        return false;\n      }\n    });\n    return matches;\n  }\n}\n/**\n * Get a component by its key\n *\n * @param {Object} components\n *   The components to iterate.\n * @param {String|Object} key\n *   The key of the component to get, or a query of the component to search.\n *\n * @returns {Object}\n *   The component that matches the given key, or undefined if not found.\n */\n\nfunction getComponent(components, key, includeAll) {\n  var result;\n  eachComponent(components, function (component, path) {\n    if (path === key || component.path === key) {\n      result = component;\n      return true;\n    }\n  }, includeAll);\n  return result;\n}\n/**\n * Finds a component provided a query of properties of that component.\n *\n * @param components\n * @param query\n * @return {*}\n */\n\nfunction searchComponents(components, query) {\n  var results = [];\n  eachComponent(components, function (component) {\n    if (matchComponent(component, query)) {\n      results.push(component);\n    }\n  }, true);\n  return results;\n}\n/**\n * Deprecated version of findComponents. Renamed to searchComponents.\n *\n * @param components\n * @param query\n * @returns {*}\n */\n\nfunction findComponents(components, query) {\n  console.warn('formio.js/utils findComponents is deprecated. Use searchComponents instead.');\n  return searchComponents(components, query);\n}\n/**\n * This function will find a component in a form and return the component AND THE PATH to the component in the form.\n * Path to the component is stored as an array of nested components and their indexes.The Path is being filled recursively\n * when you iterating through the nested structure.\n * If the component is not found the callback won't be called and function won't return anything.\n *\n * @param components\n * @param key\n * @param fn\n * @param path\n * @returns {*}\n */\n\nfunction findComponent(components, key, path, fn) {\n  if (!components) return;\n  path = path || [];\n  if (!key) {\n    return fn(components);\n  }\n  components.forEach(function (component, index) {\n    var newPath = path.slice(); // Add an index of the component it iterates through in nested structure\n\n    newPath.push(index);\n    if (!component) return;\n    if (component.hasOwnProperty('columns') && Array.isArray(component.columns)) {\n      newPath.push('columns');\n      component.columns.forEach(function (column, index) {\n        var colPath = newPath.slice();\n        colPath.push(index);\n        colPath.push('components');\n        findComponent(column.components, key, colPath, fn);\n      });\n    }\n    if (component.hasOwnProperty('rows') && Array.isArray(component.rows)) {\n      newPath.push('rows');\n      component.rows.forEach(function (row, index) {\n        var rowPath = newPath.slice();\n        rowPath.push(index);\n        row.forEach(function (column, index) {\n          var colPath = rowPath.slice();\n          colPath.push(index);\n          colPath.push('components');\n          findComponent(column.components, key, colPath, fn);\n        });\n      });\n    }\n    if (component.hasOwnProperty('components') && Array.isArray(component.components)) {\n      newPath.push('components');\n      findComponent(component.components, key, newPath, fn);\n    }\n    if (component.key === key) {\n      //Final callback if the component is found\n      fn(component, newPath, components);\n    }\n  });\n}\n/**\n * Remove a component by path.\n *\n * @param components\n * @param path\n */\n\nfunction removeComponent(components, path) {\n  // Using _.unset() leave a null value. Use Array splice instead.\n  var index = path.pop();\n  if (path.length !== 0) {\n    components = (0, _get.default)(components, path);\n  }\n  components.splice(index, 1);\n}\nfunction generateFormChange(type, data) {\n  var change;\n  switch (type) {\n    case 'add':\n      change = {\n        op: 'add',\n        key: data.component.key,\n        container: data.parent.key,\n        // Parent component\n        path: data.path,\n        // Path to container within parent component.\n        index: data.index,\n        // Index of component in parent container.\n        component: data.component\n      };\n      break;\n    case 'edit':\n      change = {\n        op: 'edit',\n        key: data.originalComponent.key,\n        patches: (0, _fastJsonPatch.compare)(data.originalComponent, data.component)\n      }; // Don't save if nothing changed.\n\n      if (!change.patches.length) {\n        change = null;\n      }\n      break;\n    case 'remove':\n      change = {\n        op: 'remove',\n        key: data.component.key\n      };\n      break;\n  }\n  return change;\n}\nfunction applyFormChanges(form, changes) {\n  var failed = [];\n  changes.forEach(function (change) {\n    var found = false;\n    switch (change.op) {\n      case 'add':\n        var newComponent = change.component; // Find the container to set the component in.\n\n        findComponent(form.components, change.container, null, function (parent) {\n          if (!change.container) {\n            parent = form;\n          } // A move will first run an add so remove any existing components with matching key before inserting.\n\n          findComponent(form.components, change.key, null, function (component, path) {\n            // If found, use the existing component. (If someone else edited it, the changes would be here)\n            newComponent = component;\n            removeComponent(form.components, path);\n          });\n          found = true;\n          var container = (0, _get.default)(parent, change.path);\n          container.splice(change.index, 0, newComponent);\n        });\n        break;\n      case 'remove':\n        findComponent(form.components, change.key, null, function (component, path) {\n          found = true;\n          var oldComponent = (0, _get.default)(form.components, path);\n          if (oldComponent.key !== component.key) {\n            path.pop();\n          }\n          removeComponent(form.components, path);\n        });\n        break;\n      case 'edit':\n        findComponent(form.components, change.key, null, function (component, path) {\n          found = true;\n          try {\n            var oldComponent = (0, _get.default)(form.components, path);\n            var _newComponent = (0, _fastJsonPatch.applyPatch)(component, change.patches).newDocument;\n            if (oldComponent.key !== _newComponent.key) {\n              path.pop();\n            }\n            (0, _set.default)(form.components, path, _newComponent);\n          } catch (err) {\n            failed.push(change);\n          }\n        });\n        break;\n      case 'move':\n        break;\n    }\n    if (!found) {\n      failed.push(change);\n    }\n  });\n  return {\n    form: form,\n    failed: failed\n  };\n}\n/**\n * Flatten the form components for data manipulation.\n *\n * @param {Object} components\n *   The components to iterate.\n * @param {Boolean} includeAll\n *   Whether or not to include layout components.\n *\n * @returns {Object}\n *   The flattened components map.\n */\n\nfunction flattenComponents(components, includeAll) {\n  var flattened = {};\n  eachComponent(components, function (component, path) {\n    flattened[path] = component;\n  }, includeAll);\n  return flattened;\n}\n/**\n * Returns if this component has a conditional statement.\n *\n * @param component - The component JSON schema.\n *\n * @returns {boolean} - TRUE - This component has a conditional, FALSE - No conditional provided.\n */\n\nfunction hasCondition(component) {\n  return Boolean(component.customConditional || component.conditional && (component.conditional.when || component.conditional.json || component.conditional.condition));\n}\n/**\n * Extension of standard #parseFloat(value) function, that also clears input string.\n *\n * @param {any} value\n *   The value to parse.\n *\n * @returns {Number}\n *   Parsed value.\n */\n\nfunction parseFloatExt(value) {\n  return parseFloat((0, _isString.default)(value) ? value.replace(/[^\\de.+-]/gi, '') : value);\n}\n/**\n * Formats provided value in way how Currency component uses it.\n *\n * @param {any} value\n *   The value to format.\n *\n * @returns {String}\n *   Value formatted for Currency component.\n */\n\nfunction formatAsCurrency(value) {\n  var parsedValue = parseFloatExt(value);\n  if ((0, _isNaN.default)(parsedValue)) {\n    return '';\n  }\n  var parts = (0, _round.default)(parsedValue, 2).toString().split('.');\n  parts[0] = (0, _chunk.default)(Array.from(parts[0]).reverse(), 3).reverse().map(function (part) {\n    return part.reverse().join('');\n  }).join(',');\n  parts[1] = (0, _pad.default)(parts[1], 2, '0');\n  return parts.join('.');\n}\n/**\n * Escapes RegEx characters in provided String value.\n *\n * @param {String} value\n *   String for escaping RegEx characters.\n * @returns {string}\n *   String with escaped RegEx characters.\n */\n\nfunction escapeRegExCharacters(value) {\n  return value.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, '\\\\$&');\n}\n/**\n * Get the value for a component key, in the given submission.\n *\n * @param {Object} submission\n *   A submission object to search.\n * @param {String} key\n *   A for components API key to search for.\n */\n\nfunction getValue(submission, key) {\n  var search = function search(data) {\n    if ((0, _isPlainObject.default)(data)) {\n      if ((0, _has.default)(data, key)) {\n        return _lodash.default.get(data, key);\n      }\n      var value = null;\n      (0, _forOwn.default)(data, function (prop) {\n        var result = search(prop);\n        if (!(0, _isNil.default)(result)) {\n          value = result;\n          return false;\n        }\n      });\n      return value;\n    } else {\n      return null;\n    }\n  };\n  return search(submission.data);\n}\n/**\n * Iterate over all components in a form and get string values for translation.\n * @param form\n */\n\nfunction getStrings(form) {\n  var properties = ['label', 'title', 'legend', 'tooltip', 'description', 'placeholder', 'prefix', 'suffix', 'errorLabel', 'content', 'html'];\n  var strings = [];\n  eachComponent(form.components, function (component) {\n    properties.forEach(function (property) {\n      if (component.hasOwnProperty(property) && component[property]) {\n        strings.push({\n          key: component.key,\n          type: component.type,\n          property: property,\n          string: component[property]\n        });\n      }\n    });\n    if ((!component.dataSrc || component.dataSrc === 'values') && component.hasOwnProperty('values') && Array.isArray(component.values) && component.values.length) {\n      component.values.forEach(function (value, index) {\n        strings.push({\n          key: component.key,\n          property: \"value[\".concat(index, \"].label\"),\n          string: component.values[index].label\n        });\n      });\n    } // Hard coded values from Day component\n\n    if (component.type === 'day') {\n      ['day', 'month', 'year', 'Day', 'Month', 'Year', 'january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'].forEach(function (string) {\n        strings.push({\n          key: component.key,\n          property: 'day',\n          string: string\n        });\n      });\n      if (component.fields.day.placeholder) {\n        strings.push({\n          key: component.key,\n          property: 'fields.day.placeholder',\n          string: component.fields.day.placeholder\n        });\n      }\n      if (component.fields.month.placeholder) {\n        strings.push({\n          key: component.key,\n          property: 'fields.month.placeholder',\n          string: component.fields.month.placeholder\n        });\n      }\n      if (component.fields.year.placeholder) {\n        strings.push({\n          key: component.key,\n          property: 'fields.year.placeholder',\n          string: component.fields.year.placeholder\n        });\n      }\n    }\n    if (component.type === 'editgrid') {\n      var string = component.addAnother || 'Add Another';\n      if (component.addAnother) {\n        strings.push({\n          key: component.key,\n          property: 'addAnother',\n          string: string\n        });\n      }\n    }\n    if (component.type === 'select') {\n      ['loading...', 'Type to search'].forEach(function (string) {\n        strings.push({\n          key: component.key,\n          property: 'select',\n          string: string\n        });\n      });\n    }\n  }, true);\n  return strings;\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","applyFormChanges","eachComponent","escapeRegExCharacters","findComponent","findComponents","flattenComponents","formatAsCurrency","generateFormChange","getComponent","getStrings","getValue","hasCondition","isLayoutComponent","matchComponent","parseFloatExt","removeComponent","searchComponents","require","_get","_interopRequireDefault","_set","_has","_clone","_forOwn","_isString","_isNaN","_isNil","_isPlainObject","_round","_chunk","_pad","_fastJsonPatch","_lodash","obj","__esModule","default","component","Boolean","columns","Array","isArray","rows","components","fn","includeAll","path","parent","inRecursion","noRecurse","forEach","hasColumns","hasRows","hasComps","newPath","key","concat","componentMap","layoutTypes","input","indexOf","type","tree","subPath","includes","column","row","query","matches","result","results","push","console","warn","index","slice","hasOwnProperty","colPath","rowPath","pop","length","splice","data","change","op","container","originalComponent","patches","compare","form","changes","failed","found","newComponent","oldComponent","_newComponent","applyPatch","newDocument","err","flattened","customConditional","conditional","when","json","condition","parseFloat","replace","parsedValue","parts","toString","split","from","reverse","map","part","join","submission","search","get","prop","properties","strings","property","string","dataSrc","values","label","fields","day","placeholder","month","year","addAnother"],"sources":["D:/task/node_modules/formiojs/utils/formUtils.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.applyFormChanges = applyFormChanges;\nexports.eachComponent = eachComponent;\nexports.escapeRegExCharacters = escapeRegExCharacters;\nexports.findComponent = findComponent;\nexports.findComponents = findComponents;\nexports.flattenComponents = flattenComponents;\nexports.formatAsCurrency = formatAsCurrency;\nexports.generateFormChange = generateFormChange;\nexports.getComponent = getComponent;\nexports.getStrings = getStrings;\nexports.getValue = getValue;\nexports.hasCondition = hasCondition;\nexports.isLayoutComponent = isLayoutComponent;\nexports.matchComponent = matchComponent;\nexports.parseFloatExt = parseFloatExt;\nexports.removeComponent = removeComponent;\nexports.searchComponents = searchComponents;\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/es.array.includes.js\");\n\nrequire(\"core-js/modules/es.array.slice.js\");\n\nrequire(\"core-js/modules/es.array.splice.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.string.replace.js\");\n\nrequire(\"core-js/modules/es.string.split.js\");\n\nrequire(\"core-js/modules/es.regexp.to-string.js\");\n\nrequire(\"core-js/modules/es.array.join.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/es.array.from.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nvar _get = _interopRequireDefault(require(\"lodash/get\"));\n\nvar _set = _interopRequireDefault(require(\"lodash/set\"));\n\nvar _has = _interopRequireDefault(require(\"lodash/has\"));\n\nvar _clone = _interopRequireDefault(require(\"lodash/clone\"));\n\nvar _forOwn = _interopRequireDefault(require(\"lodash/forOwn\"));\n\nvar _isString = _interopRequireDefault(require(\"lodash/isString\"));\n\nvar _isNaN = _interopRequireDefault(require(\"lodash/isNaN\"));\n\nvar _isNil = _interopRequireDefault(require(\"lodash/isNil\"));\n\nvar _isPlainObject = _interopRequireDefault(require(\"lodash/isPlainObject\"));\n\nvar _round = _interopRequireDefault(require(\"lodash/round\"));\n\nvar _chunk = _interopRequireDefault(require(\"lodash/chunk\"));\n\nvar _pad = _interopRequireDefault(require(\"lodash/pad\"));\n\nvar _fastJsonPatch = require(\"fast-json-patch\");\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Determine if a component is a layout component or not.\n *\n * @param {Object} component\n *   The component to check.\n *\n * @returns {Boolean}\n *   Whether or not the component is a layout component.\n */\nfunction isLayoutComponent(component) {\n  return Boolean(component.columns && Array.isArray(component.columns) || component.rows && Array.isArray(component.rows) || component.components && Array.isArray(component.components));\n}\n/**\n * Iterate through each component within a form.\n *\n * @param {Object} components\n *   The components to iterate.\n * @param {Function} fn\n *   The iteration function to invoke for each component.\n * @param {Boolean} includeAll\n *   Whether or not to include layout components.\n * @param {String} path\n *   The current data path of the element. Example: data.user.firstName\n * @param {Object} parent\n *   The parent object.\n */\n\n\nfunction eachComponent(components, fn, includeAll, path, parent, inRecursion) {\n  if (!components) return;\n  path = path || '';\n\n  if (inRecursion) {\n    if (components.noRecurse) {\n      delete components.noRecurse;\n      return;\n    }\n\n    components.noRecurse = true;\n  }\n\n  components.forEach(function (component) {\n    if (!component) {\n      return;\n    }\n\n    var hasColumns = component.columns && Array.isArray(component.columns);\n    var hasRows = component.rows && Array.isArray(component.rows);\n    var hasComps = component.components && Array.isArray(component.components);\n    var noRecurse = false;\n    var newPath = component.key ? path ? \"\".concat(path, \".\").concat(component.key) : component.key : ''; // Keep track of parent references.\n\n    if (parent) {\n      // Ensure we don't create infinite JSON structures.\n      component.parent = (0, _clone.default)(parent);\n      delete component.parent.components;\n      delete component.parent.componentMap;\n      delete component.parent.columns;\n      delete component.parent.rows;\n    } // there's no need to add other layout components here because we expect that those would either have columns, rows or components\n\n\n    var layoutTypes = ['htmlelement', 'content'];\n    var isLayoutComponent = hasColumns || hasRows || hasComps && !component.input || layoutTypes.indexOf(component.type) > -1;\n\n    if (includeAll || component.tree || !isLayoutComponent) {\n      noRecurse = fn(component, newPath, components);\n    }\n\n    var subPath = function subPath() {\n      if (component.key && !['panel', 'table', 'well', 'columns', 'fieldset', 'tabs', 'form'].includes(component.type) && (['datagrid', 'container', 'editgrid', 'address', 'dynamicWizard', 'datatable'].includes(component.type) || component.tree)) {\n        return newPath;\n      } else if (component.key && component.type === 'form') {\n        return \"\".concat(newPath, \".data\");\n      }\n\n      return path;\n    };\n\n    if (!noRecurse) {\n      if (hasColumns) {\n        component.columns.forEach(function (column) {\n          return eachComponent(column.components, fn, includeAll, subPath(), parent ? component : null);\n        }, true);\n      } else if (hasRows) {\n        component.rows.forEach(function (row) {\n          if (Array.isArray(row)) {\n            row.forEach(function (column) {\n              return eachComponent(column.components, fn, includeAll, subPath(), parent ? component : null);\n            }, true);\n          }\n        });\n      } else if (hasComps) {\n        eachComponent(component.components, fn, includeAll, subPath(), parent ? component : null, true);\n      }\n    }\n  });\n\n  if (components.noRecurse) {\n    delete components.noRecurse;\n  }\n}\n/**\n * Matches if a component matches the query.\n *\n * @param component\n * @param query\n * @return {boolean}\n */\n\n\nfunction matchComponent(component, query) {\n  if ((0, _isString.default)(query)) {\n    return component.key === query || component.path === query;\n  } else {\n    var matches = false;\n    (0, _forOwn.default)(query, function (value, key) {\n      matches = (0, _get.default)(component, key) === value;\n\n      if (!matches) {\n        return false;\n      }\n    });\n    return matches;\n  }\n}\n/**\n * Get a component by its key\n *\n * @param {Object} components\n *   The components to iterate.\n * @param {String|Object} key\n *   The key of the component to get, or a query of the component to search.\n *\n * @returns {Object}\n *   The component that matches the given key, or undefined if not found.\n */\n\n\nfunction getComponent(components, key, includeAll) {\n  var result;\n  eachComponent(components, function (component, path) {\n    if (path === key || component.path === key) {\n      result = component;\n      return true;\n    }\n  }, includeAll);\n  return result;\n}\n/**\n * Finds a component provided a query of properties of that component.\n *\n * @param components\n * @param query\n * @return {*}\n */\n\n\nfunction searchComponents(components, query) {\n  var results = [];\n  eachComponent(components, function (component) {\n    if (matchComponent(component, query)) {\n      results.push(component);\n    }\n  }, true);\n  return results;\n}\n/**\n * Deprecated version of findComponents. Renamed to searchComponents.\n *\n * @param components\n * @param query\n * @returns {*}\n */\n\n\nfunction findComponents(components, query) {\n  console.warn('formio.js/utils findComponents is deprecated. Use searchComponents instead.');\n  return searchComponents(components, query);\n}\n/**\n * This function will find a component in a form and return the component AND THE PATH to the component in the form.\n * Path to the component is stored as an array of nested components and their indexes.The Path is being filled recursively\n * when you iterating through the nested structure.\n * If the component is not found the callback won't be called and function won't return anything.\n *\n * @param components\n * @param key\n * @param fn\n * @param path\n * @returns {*}\n */\n\n\nfunction findComponent(components, key, path, fn) {\n  if (!components) return;\n  path = path || [];\n\n  if (!key) {\n    return fn(components);\n  }\n\n  components.forEach(function (component, index) {\n    var newPath = path.slice(); // Add an index of the component it iterates through in nested structure\n\n    newPath.push(index);\n    if (!component) return;\n\n    if (component.hasOwnProperty('columns') && Array.isArray(component.columns)) {\n      newPath.push('columns');\n      component.columns.forEach(function (column, index) {\n        var colPath = newPath.slice();\n        colPath.push(index);\n        colPath.push('components');\n        findComponent(column.components, key, colPath, fn);\n      });\n    }\n\n    if (component.hasOwnProperty('rows') && Array.isArray(component.rows)) {\n      newPath.push('rows');\n      component.rows.forEach(function (row, index) {\n        var rowPath = newPath.slice();\n        rowPath.push(index);\n        row.forEach(function (column, index) {\n          var colPath = rowPath.slice();\n          colPath.push(index);\n          colPath.push('components');\n          findComponent(column.components, key, colPath, fn);\n        });\n      });\n    }\n\n    if (component.hasOwnProperty('components') && Array.isArray(component.components)) {\n      newPath.push('components');\n      findComponent(component.components, key, newPath, fn);\n    }\n\n    if (component.key === key) {\n      //Final callback if the component is found\n      fn(component, newPath, components);\n    }\n  });\n}\n/**\n * Remove a component by path.\n *\n * @param components\n * @param path\n */\n\n\nfunction removeComponent(components, path) {\n  // Using _.unset() leave a null value. Use Array splice instead.\n  var index = path.pop();\n\n  if (path.length !== 0) {\n    components = (0, _get.default)(components, path);\n  }\n\n  components.splice(index, 1);\n}\n\nfunction generateFormChange(type, data) {\n  var change;\n\n  switch (type) {\n    case 'add':\n      change = {\n        op: 'add',\n        key: data.component.key,\n        container: data.parent.key,\n        // Parent component\n        path: data.path,\n        // Path to container within parent component.\n        index: data.index,\n        // Index of component in parent container.\n        component: data.component\n      };\n      break;\n\n    case 'edit':\n      change = {\n        op: 'edit',\n        key: data.originalComponent.key,\n        patches: (0, _fastJsonPatch.compare)(data.originalComponent, data.component)\n      }; // Don't save if nothing changed.\n\n      if (!change.patches.length) {\n        change = null;\n      }\n\n      break;\n\n    case 'remove':\n      change = {\n        op: 'remove',\n        key: data.component.key\n      };\n      break;\n  }\n\n  return change;\n}\n\nfunction applyFormChanges(form, changes) {\n  var failed = [];\n  changes.forEach(function (change) {\n    var found = false;\n\n    switch (change.op) {\n      case 'add':\n        var newComponent = change.component; // Find the container to set the component in.\n\n        findComponent(form.components, change.container, null, function (parent) {\n          if (!change.container) {\n            parent = form;\n          } // A move will first run an add so remove any existing components with matching key before inserting.\n\n\n          findComponent(form.components, change.key, null, function (component, path) {\n            // If found, use the existing component. (If someone else edited it, the changes would be here)\n            newComponent = component;\n            removeComponent(form.components, path);\n          });\n          found = true;\n          var container = (0, _get.default)(parent, change.path);\n          container.splice(change.index, 0, newComponent);\n        });\n        break;\n\n      case 'remove':\n        findComponent(form.components, change.key, null, function (component, path) {\n          found = true;\n          var oldComponent = (0, _get.default)(form.components, path);\n\n          if (oldComponent.key !== component.key) {\n            path.pop();\n          }\n\n          removeComponent(form.components, path);\n        });\n        break;\n\n      case 'edit':\n        findComponent(form.components, change.key, null, function (component, path) {\n          found = true;\n\n          try {\n            var oldComponent = (0, _get.default)(form.components, path);\n            var _newComponent = (0, _fastJsonPatch.applyPatch)(component, change.patches).newDocument;\n\n            if (oldComponent.key !== _newComponent.key) {\n              path.pop();\n            }\n\n            (0, _set.default)(form.components, path, _newComponent);\n          } catch (err) {\n            failed.push(change);\n          }\n        });\n        break;\n\n      case 'move':\n        break;\n    }\n\n    if (!found) {\n      failed.push(change);\n    }\n  });\n  return {\n    form: form,\n    failed: failed\n  };\n}\n/**\n * Flatten the form components for data manipulation.\n *\n * @param {Object} components\n *   The components to iterate.\n * @param {Boolean} includeAll\n *   Whether or not to include layout components.\n *\n * @returns {Object}\n *   The flattened components map.\n */\n\n\nfunction flattenComponents(components, includeAll) {\n  var flattened = {};\n  eachComponent(components, function (component, path) {\n    flattened[path] = component;\n  }, includeAll);\n  return flattened;\n}\n/**\n * Returns if this component has a conditional statement.\n *\n * @param component - The component JSON schema.\n *\n * @returns {boolean} - TRUE - This component has a conditional, FALSE - No conditional provided.\n */\n\n\nfunction hasCondition(component) {\n  return Boolean(component.customConditional || component.conditional && (component.conditional.when || component.conditional.json || component.conditional.condition));\n}\n/**\n * Extension of standard #parseFloat(value) function, that also clears input string.\n *\n * @param {any} value\n *   The value to parse.\n *\n * @returns {Number}\n *   Parsed value.\n */\n\n\nfunction parseFloatExt(value) {\n  return parseFloat((0, _isString.default)(value) ? value.replace(/[^\\de.+-]/gi, '') : value);\n}\n/**\n * Formats provided value in way how Currency component uses it.\n *\n * @param {any} value\n *   The value to format.\n *\n * @returns {String}\n *   Value formatted for Currency component.\n */\n\n\nfunction formatAsCurrency(value) {\n  var parsedValue = parseFloatExt(value);\n\n  if ((0, _isNaN.default)(parsedValue)) {\n    return '';\n  }\n\n  var parts = (0, _round.default)(parsedValue, 2).toString().split('.');\n  parts[0] = (0, _chunk.default)(Array.from(parts[0]).reverse(), 3).reverse().map(function (part) {\n    return part.reverse().join('');\n  }).join(',');\n  parts[1] = (0, _pad.default)(parts[1], 2, '0');\n  return parts.join('.');\n}\n/**\n * Escapes RegEx characters in provided String value.\n *\n * @param {String} value\n *   String for escaping RegEx characters.\n * @returns {string}\n *   String with escaped RegEx characters.\n */\n\n\nfunction escapeRegExCharacters(value) {\n  return value.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, '\\\\$&');\n}\n/**\n * Get the value for a component key, in the given submission.\n *\n * @param {Object} submission\n *   A submission object to search.\n * @param {String} key\n *   A for components API key to search for.\n */\n\n\nfunction getValue(submission, key) {\n  var search = function search(data) {\n    if ((0, _isPlainObject.default)(data)) {\n      if ((0, _has.default)(data, key)) {\n        return _lodash.default.get(data, key);\n      }\n\n      var value = null;\n      (0, _forOwn.default)(data, function (prop) {\n        var result = search(prop);\n\n        if (!(0, _isNil.default)(result)) {\n          value = result;\n          return false;\n        }\n      });\n      return value;\n    } else {\n      return null;\n    }\n  };\n\n  return search(submission.data);\n}\n/**\n * Iterate over all components in a form and get string values for translation.\n * @param form\n */\n\n\nfunction getStrings(form) {\n  var properties = ['label', 'title', 'legend', 'tooltip', 'description', 'placeholder', 'prefix', 'suffix', 'errorLabel', 'content', 'html'];\n  var strings = [];\n  eachComponent(form.components, function (component) {\n    properties.forEach(function (property) {\n      if (component.hasOwnProperty(property) && component[property]) {\n        strings.push({\n          key: component.key,\n          type: component.type,\n          property: property,\n          string: component[property]\n        });\n      }\n    });\n\n    if ((!component.dataSrc || component.dataSrc === 'values') && component.hasOwnProperty('values') && Array.isArray(component.values) && component.values.length) {\n      component.values.forEach(function (value, index) {\n        strings.push({\n          key: component.key,\n          property: \"value[\".concat(index, \"].label\"),\n          string: component.values[index].label\n        });\n      });\n    } // Hard coded values from Day component\n\n\n    if (component.type === 'day') {\n      ['day', 'month', 'year', 'Day', 'Month', 'Year', 'january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'].forEach(function (string) {\n        strings.push({\n          key: component.key,\n          property: 'day',\n          string: string\n        });\n      });\n\n      if (component.fields.day.placeholder) {\n        strings.push({\n          key: component.key,\n          property: 'fields.day.placeholder',\n          string: component.fields.day.placeholder\n        });\n      }\n\n      if (component.fields.month.placeholder) {\n        strings.push({\n          key: component.key,\n          property: 'fields.month.placeholder',\n          string: component.fields.month.placeholder\n        });\n      }\n\n      if (component.fields.year.placeholder) {\n        strings.push({\n          key: component.key,\n          property: 'fields.year.placeholder',\n          string: component.fields.year.placeholder\n        });\n      }\n    }\n\n    if (component.type === 'editgrid') {\n      var string = component.addAnother || 'Add Another';\n\n      if (component.addAnother) {\n        strings.push({\n          key: component.key,\n          property: 'addAnother',\n          string: string\n        });\n      }\n    }\n\n    if (component.type === 'select') {\n      ['loading...', 'Type to search'].forEach(function (string) {\n        strings.push({\n          key: component.key,\n          property: 'select',\n          string: string\n        });\n      });\n    }\n  }, true);\n  return strings;\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}