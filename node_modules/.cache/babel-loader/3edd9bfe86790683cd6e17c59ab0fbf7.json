{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nrequire(\"core-js/modules/es.reflect.construct.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/es.weak-map.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\nrequire(\"core-js/modules/es.symbol.js\");\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.symbol.iterator.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.object.assign.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/es.regexp.to-string.js\");\nrequire(\"core-js/modules/es.array.concat.js\");\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\nvar _Element2 = _interopRequireDefault(require(\"./Element\"));\nvar _Formio = require(\"./Formio\");\nvar _displays = _interopRequireDefault(require(\"./displays\"));\nvar _templates = _interopRequireDefault(require(\"./templates\"));\nvar FormioUtils = _interopRequireWildcard(require(\"./utils/utils\"));\nvar _nativePromiseOnly = _interopRequireDefault(require(\"native-promise-only\"));\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nvar Form = /*#__PURE__*/function (_Element) {\n  _inherits(Form, _Element);\n  var _super = _createSuper(Form);\n\n  /**\n   * Creates an easy to use interface for embedding webforms, pdfs, and wizards into your application.\n   *\n   * @param {Object} element - The DOM element you wish to render this form within.\n   * @param {Object | string} form - Either a Form JSON schema or the URL of a hosted form via. form.io.\n   * @param {Object} options - The options to create a new form instance.\n   * @param {boolean} options.readOnly - Set this form to readOnly\n   * @param {boolean} options.noAlerts - Set to true to disable the alerts dialog.\n   * @param {boolean} options.i18n - The translation file for this rendering. @see https://github.com/formio/formio.js/blob/master/i18n.js\n   * @param {boolean} options.template - Provides a way to inject custom logic into the creation of every element rendered within the form.\n   *\n   * @example\n   * import Form from 'formiojs/Form';\n   * const form = new Form(document.getElementById('formio'), 'https://examples.form.io/example');\n   * form.build();\n   */\n  function Form() {\n    var _this;\n    _classCallCheck(this, Form);\n    var options = (arguments.length <= 0 ? undefined : arguments[0]) instanceof HTMLElement ? arguments.length <= 2 ? undefined : arguments[2] : arguments.length <= 1 ? undefined : arguments[1];\n    if (_Formio.GlobalFormio.options && _Formio.GlobalFormio.options.form) {\n      options = Object.assign(options, _Formio.GlobalFormio.options.form);\n    }\n    _this = _super.call(this, options);\n    if (_this.options.useSessionToken) {\n      _Formio.GlobalFormio.useSessionToken(_this.options);\n    }\n    _this.ready = new _nativePromiseOnly.default(function (resolve, reject) {\n      _this.readyResolve = resolve;\n      _this.readyReject = reject;\n    });\n    _this.instance = null;\n    if ((arguments.length <= 0 ? undefined : arguments[0]) instanceof HTMLElement) {\n      _this.element = arguments.length <= 0 ? undefined : arguments[0];\n      _this.options = (arguments.length <= 2 ? undefined : arguments[2]) || {};\n      _this.options.events = _this.events;\n      _this.setForm(arguments.length <= 1 ? undefined : arguments[1]).then(function () {\n        return _this.readyResolve(_this.instance);\n      }).catch(_this.readyReject);\n    } else if (arguments.length <= 0 ? undefined : arguments[0]) {\n      _this.element = null;\n      _this.options = (arguments.length <= 1 ? undefined : arguments[1]) || {};\n      _this.options.events = _this.events;\n      _this.setForm(arguments.length <= 0 ? undefined : arguments[0]).then(function () {\n        return _this.readyResolve(_this.instance);\n      }).catch(_this.readyReject);\n    } else {\n      _this.element = null;\n      _this.options = {};\n      _this.options.events = _this.events;\n    }\n    _this.display = '';\n    return _this;\n  }\n  /**\n   * Create a new form instance provided the display of the form.\n   *\n   * @param {string} display - The display of the form, either \"wizard\", \"form\", or \"pdf\"\n   * @return {*}\n   */\n\n  _createClass(Form, [{\n    key: \"create\",\n    value: function create(display) {\n      if (this.options && (this.options.flatten || this.options.renderMode === 'flat')) {\n        display = 'form';\n      }\n      this.display = display;\n      if (_displays.default.displays[display]) {\n        return new _displays.default.displays[display](this.element, this.options);\n      } else {\n        // eslint-disable-next-line new-cap\n        return new _displays.default.displays['webform'](this.element, this.options);\n      }\n    }\n    /**\n     * Sets the form. Either as JSON or a URL to a form JSON schema.\n     *\n     * @param {string|object} formParam - Either the form JSON or the URL of the form json.\n     * @return {*}\n     */\n  }, {\n    key: \"form\",\n    get:\n    /**\n     * Returns the loaded forms JSON.\n     *\n     * @return {object} - The loaded form's JSON\n     */\n    function get() {\n      return this._form;\n    }\n    /**\n     * Changes the display of the form.\n     *\n     * @param {string} display - The display to set this form. Either \"wizard\", \"form\", or \"pdf\"\n     * @return {Promise<T>}\n     */,\n\n    set: function set(formParam) {\n      return this.setForm(formParam);\n    }\n  }, {\n    key: \"errorForm\",\n    value: function errorForm(err) {\n      return {\n        components: [{\n          'label': 'HTML',\n          'tag': 'div',\n          'className': 'error error-message alert alert-danger ui red message',\n          'attrs': [{\n            'attr': 'role',\n            'value': 'alert'\n          }],\n          'key': 'errorMessage',\n          'type': 'htmlelement',\n          'input': false,\n          'content': typeof err === 'string' ? err : err.message\n        }]\n      };\n    }\n  }, {\n    key: \"setForm\",\n    value: function setForm(formParam) {\n      var _this2 = this;\n      var result;\n      formParam = formParam || this.form;\n      if (typeof formParam === 'string') {\n        var formio = new _Formio.GlobalFormio(formParam);\n        var error;\n        result = this.getSubmission(formio).catch(function (err) {\n          error = err;\n        }).then(function (submission) {\n          return formio.loadForm() // If the form returned an error, show it instead of the form.\n          .catch(function (err) {\n            error = err;\n          }).then(function (form) {\n            // If the submission returned an error, show it instead of the form.\n            if (error) {\n              form = _this2.errorForm(error);\n            }\n            _this2.instance = _this2.instance || _this2.create(form.display);\n            _this2.instance.url = formParam;\n            _this2.instance.nosubmit = false;\n            _this2._form = _this2.instance.form = form;\n            if (submission) {\n              _this2.instance.submission = submission;\n            }\n            if (error) {\n              throw error;\n            }\n            return _this2.instance;\n          });\n        });\n      } else {\n        this.instance = this.instance || this.create(formParam.display);\n        this._form = this.instance.form = formParam;\n        result = this.instance.ready;\n      } // A redraw has occurred so save off the new element in case of a setDisplay causing a rebuild.\n\n      return result.then(function () {\n        _this2.element = _this2.instance.element;\n        return _this2.instance;\n      });\n    }\n  }, {\n    key: \"getSubmission\",\n    value: function getSubmission(formio) {\n      if (formio.submissionId) {\n        return formio.loadSubmission();\n      }\n      return _nativePromiseOnly.default.resolve();\n    }\n  }, {\n    key: \"setDisplay\",\n    value: function setDisplay(display) {\n      if (this.display === display && this.instance) {\n        return _nativePromiseOnly.default.resolve(this.instance);\n      }\n      this.form.display = display;\n      this.instance.destroy();\n      this.instance = this.create(display);\n      return this.setForm(this.form);\n    }\n  }, {\n    key: \"empty\",\n    value: function empty() {\n      if (this.element) {\n        while (this.element.firstChild) {\n          this.element.removeChild(this.element.firstChild);\n        }\n      }\n    }\n  }, {\n    key: \"sanitize\",\n    value:\n    /**\n     * Sanitize an html string.\n     *\n     * @param string\n     * @returns {*}\n     */\n    function sanitize(dirty, forceSanitize) {\n      // If Sanitize is turned off\n      if (this.options.sanitize === false && !forceSanitize) {\n        return dirty;\n      }\n      return FormioUtils.sanitize(dirty, this.options);\n    }\n  }, {\n    key: \"setContent\",\n    value: function setContent(element, content, forceSanitize) {\n      if (element instanceof HTMLElement) {\n        element.innerHTML = this.sanitize(content, forceSanitize);\n        return true;\n      }\n      return false;\n    }\n    /**\n     * Build a new form.\n     *\n     * @return {Promise<T>}\n     */\n  }, {\n    key: \"build\",\n    value: function build() {\n      var _this3 = this;\n      if (!this.instance) {\n        return _nativePromiseOnly.default.reject('Form not ready. Use form.ready promise');\n      }\n      if (!this.element) {\n        return _nativePromiseOnly.default.reject('No DOM element for form.');\n      } // Add temporary loader.\n\n      var template = this.options && this.options.template ? this.options.template : 'bootstrap';\n      var loader = _templates.default[template].loader || _templates.default.bootstrap.loader;\n      this.setContent(this.element, loader.form);\n      return this.render().then(function (html) {\n        _this3.setContent(_this3.element, html);\n        return _this3.attach(_this3.element).then(function () {\n          return _this3.instance;\n        });\n      }).then(function (param) {\n        _this3.emit('build', param);\n        return param;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n      if (!this.instance) {\n        return _nativePromiseOnly.default.reject('Form not ready. Use form.ready promise');\n      }\n      return _nativePromiseOnly.default.resolve(this.instance.render()).then(function (param) {\n        _this4.emit('render', param);\n        return param;\n      });\n    }\n  }, {\n    key: \"attach\",\n    value: function attach(element) {\n      var _this5 = this;\n      if (!this.instance) {\n        return _nativePromiseOnly.default.reject('Form not ready. Use form.ready promise');\n      }\n      this.element = element;\n      return this.instance.attach(this.element).then(function (param) {\n        _this5.emit('attach', param);\n        return param;\n      });\n    }\n  }], [{\n    key: \"embed\",\n    value: function embed(_embed) {\n      var _this6 = this;\n      return new _nativePromiseOnly.default(function (resolve) {\n        if (!_embed || !_embed.src) {\n          resolve();\n        }\n        var id = _this6.id || \"formio-\".concat(Math.random().toString(36).substring(7));\n        var className = _embed.class || 'formio-form-wrapper';\n        var code = _embed.styles ? \"<link rel=\\\"stylesheet\\\" href=\\\"\".concat(_embed.styles, \"\\\">\") : '';\n        code += \"<div id=\\\"\".concat(id, \"\\\" class=\\\"\").concat(className, \"\\\"></div>\");\n        document.write(code);\n        var attempts = 0;\n        var wait = setInterval(function () {\n          attempts++;\n          var formElement = document.getElementById(id);\n          if (formElement || attempts > 10) {\n            resolve(new Form(formElement, _embed.src).ready);\n            clearInterval(wait);\n          }\n        }, 10);\n      });\n    }\n  }]);\n  return Form;\n}(_Element2.default); // Allow simple embedding.\n\nexports.default = Form;\n_Formio.GlobalFormio.embedForm = function (embed) {\n  return Form.embed(embed);\n};\n/**\n * Factory that creates a new form based on the form parameters.\n *\n * @param element {HMTLElement} - The HTML Element to add this form to.\n * @param form {string|Object} - The src of the form, or a form object.\n * @param options {Object} - The options to create this form.\n *\n * @return {Promise} - When the form is instance is ready.\n */\n\n_Formio.GlobalFormio.createForm = function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  return _construct(Form, args).ready;\n};\n_Formio.GlobalFormio.Form = Form;","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","require","Object","defineProperty","exports","value","default","_Element2","_interopRequireDefault","_Formio","_displays","_templates","FormioUtils","_interopRequireWildcard","_nativePromiseOnly","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","_construct","Parent","args","Class","_isNativeReflectConstruct","Reflect","construct","bind","a","push","apply","Constructor","Function","instance","_setPrototypeOf","arguments","_classCallCheck","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","Form","_Element","_super","_this","options","undefined","HTMLElement","GlobalFormio","form","assign","useSessionToken","ready","resolve","reject","readyResolve","readyReject","element","events","setForm","then","catch","display","flatten","renderMode","displays","_form","formParam","errorForm","err","components","message","_this2","formio","error","getSubmission","submission","loadForm","url","nosubmit","submissionId","loadSubmission","setDisplay","destroy","empty","firstChild","removeChild","sanitize","dirty","forceSanitize","setContent","content","innerHTML","build","_this3","template","loader","bootstrap","render","html","attach","param","emit","_this4","_this5","embed","_embed","_this6","src","id","concat","Math","random","toString","substring","className","class","code","styles","document","write","attempts","wait","setInterval","formElement","getElementById","clearInterval","embedForm","createForm","_len","Array","_key"],"sources":["D:/task/node_modules/formiojs/Form.js"],"sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nrequire(\"core-js/modules/es.reflect.construct.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/es.weak-map.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.symbol.iterator.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es.object.assign.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.regexp.to-string.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\n\nvar _Element2 = _interopRequireDefault(require(\"./Element\"));\n\nvar _Formio = require(\"./Formio\");\n\nvar _displays = _interopRequireDefault(require(\"./displays\"));\n\nvar _templates = _interopRequireDefault(require(\"./templates\"));\n\nvar FormioUtils = _interopRequireWildcard(require(\"./utils/utils\"));\n\nvar _nativePromiseOnly = _interopRequireDefault(require(\"native-promise-only\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar Form = /*#__PURE__*/function (_Element) {\n  _inherits(Form, _Element);\n\n  var _super = _createSuper(Form);\n\n  /**\n   * Creates an easy to use interface for embedding webforms, pdfs, and wizards into your application.\n   *\n   * @param {Object} element - The DOM element you wish to render this form within.\n   * @param {Object | string} form - Either a Form JSON schema or the URL of a hosted form via. form.io.\n   * @param {Object} options - The options to create a new form instance.\n   * @param {boolean} options.readOnly - Set this form to readOnly\n   * @param {boolean} options.noAlerts - Set to true to disable the alerts dialog.\n   * @param {boolean} options.i18n - The translation file for this rendering. @see https://github.com/formio/formio.js/blob/master/i18n.js\n   * @param {boolean} options.template - Provides a way to inject custom logic into the creation of every element rendered within the form.\n   *\n   * @example\n   * import Form from 'formiojs/Form';\n   * const form = new Form(document.getElementById('formio'), 'https://examples.form.io/example');\n   * form.build();\n   */\n  function Form() {\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    var options = (arguments.length <= 0 ? undefined : arguments[0]) instanceof HTMLElement ? arguments.length <= 2 ? undefined : arguments[2] : arguments.length <= 1 ? undefined : arguments[1];\n\n    if (_Formio.GlobalFormio.options && _Formio.GlobalFormio.options.form) {\n      options = Object.assign(options, _Formio.GlobalFormio.options.form);\n    }\n\n    _this = _super.call(this, options);\n\n    if (_this.options.useSessionToken) {\n      _Formio.GlobalFormio.useSessionToken(_this.options);\n    }\n\n    _this.ready = new _nativePromiseOnly.default(function (resolve, reject) {\n      _this.readyResolve = resolve;\n      _this.readyReject = reject;\n    });\n    _this.instance = null;\n\n    if ((arguments.length <= 0 ? undefined : arguments[0]) instanceof HTMLElement) {\n      _this.element = arguments.length <= 0 ? undefined : arguments[0];\n      _this.options = (arguments.length <= 2 ? undefined : arguments[2]) || {};\n      _this.options.events = _this.events;\n\n      _this.setForm(arguments.length <= 1 ? undefined : arguments[1]).then(function () {\n        return _this.readyResolve(_this.instance);\n      }).catch(_this.readyReject);\n    } else if (arguments.length <= 0 ? undefined : arguments[0]) {\n      _this.element = null;\n      _this.options = (arguments.length <= 1 ? undefined : arguments[1]) || {};\n      _this.options.events = _this.events;\n\n      _this.setForm(arguments.length <= 0 ? undefined : arguments[0]).then(function () {\n        return _this.readyResolve(_this.instance);\n      }).catch(_this.readyReject);\n    } else {\n      _this.element = null;\n      _this.options = {};\n      _this.options.events = _this.events;\n    }\n\n    _this.display = '';\n    return _this;\n  }\n  /**\n   * Create a new form instance provided the display of the form.\n   *\n   * @param {string} display - The display of the form, either \"wizard\", \"form\", or \"pdf\"\n   * @return {*}\n   */\n\n\n  _createClass(Form, [{\n    key: \"create\",\n    value: function create(display) {\n      if (this.options && (this.options.flatten || this.options.renderMode === 'flat')) {\n        display = 'form';\n      }\n\n      this.display = display;\n\n      if (_displays.default.displays[display]) {\n        return new _displays.default.displays[display](this.element, this.options);\n      } else {\n        // eslint-disable-next-line new-cap\n        return new _displays.default.displays['webform'](this.element, this.options);\n      }\n    }\n    /**\n     * Sets the form. Either as JSON or a URL to a form JSON schema.\n     *\n     * @param {string|object} formParam - Either the form JSON or the URL of the form json.\n     * @return {*}\n     */\n\n  }, {\n    key: \"form\",\n    get:\n    /**\n     * Returns the loaded forms JSON.\n     *\n     * @return {object} - The loaded form's JSON\n     */\n    function get() {\n      return this._form;\n    }\n    /**\n     * Changes the display of the form.\n     *\n     * @param {string} display - The display to set this form. Either \"wizard\", \"form\", or \"pdf\"\n     * @return {Promise<T>}\n     */\n    ,\n    set: function set(formParam) {\n      return this.setForm(formParam);\n    }\n  }, {\n    key: \"errorForm\",\n    value: function errorForm(err) {\n      return {\n        components: [{\n          'label': 'HTML',\n          'tag': 'div',\n          'className': 'error error-message alert alert-danger ui red message',\n          'attrs': [{\n            'attr': 'role',\n            'value': 'alert'\n          }],\n          'key': 'errorMessage',\n          'type': 'htmlelement',\n          'input': false,\n          'content': typeof err === 'string' ? err : err.message\n        }]\n      };\n    }\n  }, {\n    key: \"setForm\",\n    value: function setForm(formParam) {\n      var _this2 = this;\n\n      var result;\n      formParam = formParam || this.form;\n\n      if (typeof formParam === 'string') {\n        var formio = new _Formio.GlobalFormio(formParam);\n        var error;\n        result = this.getSubmission(formio).catch(function (err) {\n          error = err;\n        }).then(function (submission) {\n          return formio.loadForm() // If the form returned an error, show it instead of the form.\n          .catch(function (err) {\n            error = err;\n          }).then(function (form) {\n            // If the submission returned an error, show it instead of the form.\n            if (error) {\n              form = _this2.errorForm(error);\n            }\n\n            _this2.instance = _this2.instance || _this2.create(form.display);\n            _this2.instance.url = formParam;\n            _this2.instance.nosubmit = false;\n            _this2._form = _this2.instance.form = form;\n\n            if (submission) {\n              _this2.instance.submission = submission;\n            }\n\n            if (error) {\n              throw error;\n            }\n\n            return _this2.instance;\n          });\n        });\n      } else {\n        this.instance = this.instance || this.create(formParam.display);\n        this._form = this.instance.form = formParam;\n        result = this.instance.ready;\n      } // A redraw has occurred so save off the new element in case of a setDisplay causing a rebuild.\n\n\n      return result.then(function () {\n        _this2.element = _this2.instance.element;\n        return _this2.instance;\n      });\n    }\n  }, {\n    key: \"getSubmission\",\n    value: function getSubmission(formio) {\n      if (formio.submissionId) {\n        return formio.loadSubmission();\n      }\n\n      return _nativePromiseOnly.default.resolve();\n    }\n  }, {\n    key: \"setDisplay\",\n    value: function setDisplay(display) {\n      if (this.display === display && this.instance) {\n        return _nativePromiseOnly.default.resolve(this.instance);\n      }\n\n      this.form.display = display;\n      this.instance.destroy();\n      this.instance = this.create(display);\n      return this.setForm(this.form);\n    }\n  }, {\n    key: \"empty\",\n    value: function empty() {\n      if (this.element) {\n        while (this.element.firstChild) {\n          this.element.removeChild(this.element.firstChild);\n        }\n      }\n    }\n  }, {\n    key: \"sanitize\",\n    value:\n    /**\n     * Sanitize an html string.\n     *\n     * @param string\n     * @returns {*}\n     */\n    function sanitize(dirty, forceSanitize) {\n      // If Sanitize is turned off\n      if (this.options.sanitize === false && !forceSanitize) {\n        return dirty;\n      }\n\n      return FormioUtils.sanitize(dirty, this.options);\n    }\n  }, {\n    key: \"setContent\",\n    value: function setContent(element, content, forceSanitize) {\n      if (element instanceof HTMLElement) {\n        element.innerHTML = this.sanitize(content, forceSanitize);\n        return true;\n      }\n\n      return false;\n    }\n    /**\n     * Build a new form.\n     *\n     * @return {Promise<T>}\n     */\n\n  }, {\n    key: \"build\",\n    value: function build() {\n      var _this3 = this;\n\n      if (!this.instance) {\n        return _nativePromiseOnly.default.reject('Form not ready. Use form.ready promise');\n      }\n\n      if (!this.element) {\n        return _nativePromiseOnly.default.reject('No DOM element for form.');\n      } // Add temporary loader.\n\n\n      var template = this.options && this.options.template ? this.options.template : 'bootstrap';\n      var loader = _templates.default[template].loader || _templates.default.bootstrap.loader;\n      this.setContent(this.element, loader.form);\n      return this.render().then(function (html) {\n        _this3.setContent(_this3.element, html);\n\n        return _this3.attach(_this3.element).then(function () {\n          return _this3.instance;\n        });\n      }).then(function (param) {\n        _this3.emit('build', param);\n\n        return param;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      if (!this.instance) {\n        return _nativePromiseOnly.default.reject('Form not ready. Use form.ready promise');\n      }\n\n      return _nativePromiseOnly.default.resolve(this.instance.render()).then(function (param) {\n        _this4.emit('render', param);\n\n        return param;\n      });\n    }\n  }, {\n    key: \"attach\",\n    value: function attach(element) {\n      var _this5 = this;\n\n      if (!this.instance) {\n        return _nativePromiseOnly.default.reject('Form not ready. Use form.ready promise');\n      }\n\n      this.element = element;\n      return this.instance.attach(this.element).then(function (param) {\n        _this5.emit('attach', param);\n\n        return param;\n      });\n    }\n  }], [{\n    key: \"embed\",\n    value: function embed(_embed) {\n      var _this6 = this;\n\n      return new _nativePromiseOnly.default(function (resolve) {\n        if (!_embed || !_embed.src) {\n          resolve();\n        }\n\n        var id = _this6.id || \"formio-\".concat(Math.random().toString(36).substring(7));\n        var className = _embed.class || 'formio-form-wrapper';\n        var code = _embed.styles ? \"<link rel=\\\"stylesheet\\\" href=\\\"\".concat(_embed.styles, \"\\\">\") : '';\n        code += \"<div id=\\\"\".concat(id, \"\\\" class=\\\"\").concat(className, \"\\\"></div>\");\n        document.write(code);\n        var attempts = 0;\n        var wait = setInterval(function () {\n          attempts++;\n          var formElement = document.getElementById(id);\n\n          if (formElement || attempts > 10) {\n            resolve(new Form(formElement, _embed.src).ready);\n            clearInterval(wait);\n          }\n        }, 10);\n      });\n    }\n  }]);\n\n  return Form;\n}(_Element2.default); // Allow simple embedding.\n\n\nexports.default = Form;\n\n_Formio.GlobalFormio.embedForm = function (embed) {\n  return Form.embed(embed);\n};\n/**\n * Factory that creates a new form based on the form parameters.\n *\n * @param element {HMTLElement} - The HTML Element to add this form to.\n * @param form {string|Object} - The src of the form, or a form object.\n * @param options {Object} - The options to create this form.\n *\n * @return {Promise} - When the form is instance is ready.\n */\n\n\n_Formio.GlobalFormio.createForm = function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return _construct(Form, args).ready;\n};\n\n_Formio.GlobalFormio.Form = Form;"],"mappings":"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"},"metadata":{},"sourceType":"script"}