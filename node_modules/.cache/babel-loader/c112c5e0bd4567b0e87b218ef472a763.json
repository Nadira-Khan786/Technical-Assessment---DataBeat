{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nrequire(\"core-js/modules/es.reflect.construct.js\");\nrequire(\"core-js/modules/es.reflect.get.js\");\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\nrequire(\"core-js/modules/es.symbol.js\");\nrequire(\"core-js/modules/es.symbol.description.js\");\nrequire(\"core-js/modules/es.symbol.iterator.js\");\nrequire(\"core-js/modules/es.array.iterator.js\");\nrequire(\"core-js/modules/es.string.iterator.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nrequire(\"core-js/modules/es.array.from.js\");\nrequire(\"core-js/modules/es.array.slice.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.array.sort.js\");\nrequire(\"core-js/modules/es.regexp.exec.js\");\nrequire(\"core-js/modules/es.math.log2.js\");\nrequire(\"core-js/modules/es.string.replace.js\");\nrequire(\"core-js/modules/es.regexp.constructor.js\");\nrequire(\"core-js/modules/es.regexp.to-string.js\");\nrequire(\"core-js/modules/es.object.to-string.js\");\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\nrequire(\"core-js/modules/es.array.concat.js\");\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\nvar _FormioAddon2 = _interopRequireDefault(require(\"../FormioAddon\"));\nvar _PasswordStrengthAddon = _interopRequireDefault(require(\"./PasswordStrengthAddon.form\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nvar PasswordStrengthAddon = /*#__PURE__*/function (_FormioAddon) {\n  _inherits(PasswordStrengthAddon, _FormioAddon);\n  var _super = _createSuper(PasswordStrengthAddon);\n  function PasswordStrengthAddon(settings, componentInstance) {\n    var _this;\n    _classCallCheck(this, PasswordStrengthAddon);\n    _this = _super.call(this, settings, componentInstance);\n    _this._entropy = 0; // Set initial value of entropy\n\n    _this.levels = _toConsumableArray(_this.settings.levels || _this.defaultSettings.levels);\n    _this.levels.sort(function (a, b) {\n      return a.maxEntropy - b.maxEntropy;\n    }); // Sort levels from the lowest one to the highest\n\n    _this.level = _this.levels[0]; // Set currnt level to the lowest one\n\n    _this.maxEntropy = _this.levels[_this.levels.length - 1].maxEntropy; // Set maximal amount of security points based on the highest level\n\n    return _this;\n  }\n  _createClass(PasswordStrengthAddon, [{\n    key: \"defaultSettings\",\n    get: function get() {\n      return PasswordStrengthAddon.info.defaultSettings;\n    }\n  }, {\n    key: \"rules\",\n    get: function get() {\n      var _this2 = this;\n      return {\n        length: {\n          check: function check(value, options) {\n            var minLength = options.minLength || _this2.component.component.validate.minLength || 6;\n            if (value.length < minLength) {\n              return \"Value must be longer than \".concat(minLength, \" characters\");\n            }\n            return true;\n          }\n        },\n        upperCase: {\n          check: function check(value) {\n            if (/[A-Z]/g.test(value)) {\n              return true;\n            }\n            return 'Value must contain uppercased alphabetical characters';\n          },\n          increaseCharactersPoolSize: 26\n        },\n        numeric: {\n          check: function check(value) {\n            if (/[0-9]/g.test(value)) {\n              return true;\n            }\n            return 'Value must contain numeric characters';\n          },\n          increaseCharactersPoolSize: 10\n        },\n        lowerCase: {\n          check: function check(value) {\n            if (/[a-z]/g.test(value)) {\n              return true;\n            }\n            return 'Value must contain lowercased alphabetical characters';\n          },\n          increaseCharactersPoolSize: 26\n        },\n        symbols: {\n          check: function check(value) {\n            if (/[ `!@#$%^&*()_+\\-=[\\]{};':\"\\\\|,.<>/?~]/.test(value)) {\n              return true;\n            }\n            return 'Value must contain symbols';\n          },\n          increaseCharactersPoolSize: 32\n        }\n      };\n    }\n  }, {\n    key: \"charactersPoolLength\",\n    get: function get() {\n      return this._charactersPoolLength;\n    },\n    set: function set(value) {\n      this._charactersPoolLength = value;\n    }\n  }, {\n    key: \"level\",\n    get: function get() {\n      return this._level || this.getLevel();\n    },\n    set: function set(level) {\n      this._level = level;\n    }\n  }, {\n    key: \"entropy\",\n    get: function get() {\n      return this._entropy;\n    },\n    set: function set(value) {\n      var oldLevel = this.getLevel();\n      var updateOnEntropyChange = this.settings.updateOn === 'entropyChange' && this._entropy !== value;\n      this._entropy = value;\n      this.level = this.getLevel();\n      var updateOnLevelChange = this.settings.updateOn === 'levelChange' && oldLevel.name !== this.level.name;\n      if (updateOnLevelChange || updateOnEntropyChange) {\n        this.updateView();\n      }\n    }\n  }, {\n    key: \"dictionarySize\",\n    get: function get() {\n      return this.settings.dictionarySize || 171476;\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return this.settings.template;\n    }\n  }, {\n    key: \"tooltip\",\n    get: function get() {\n      var _this$level, _this$level2;\n      return ((_this$level = this.level) === null || _this$level === void 0 ? void 0 : _this$level.tooltip) || \"\".concat((_this$level2 = this.level) === null || _this$level2 === void 0 ? void 0 : _this$level2.name, \" strongness\");\n    }\n  }, {\n    key: \"rulesSettings\",\n    get: function get() {\n      return this.settings.rulesSettings || [];\n    }\n  }, {\n    key: \"customRules\",\n    get: function get() {\n      return this.settings.customRules || [];\n    }\n  }, {\n    key: \"log2\",\n    value: function log2(value) {\n      if (typeof Math.log2 === 'function') {\n        return Math.log2(value);\n      }\n      return Math.log(value) * Math.LOG2E;\n    }\n  }, {\n    key: \"calculatePasswordEntropy\",\n    value: function calculatePasswordEntropy(passwordLength, charactersPoolSize) {\n      return !passwordLength || !charactersPoolSize ? 0 : this.log2(Math.pow(charactersPoolSize, passwordLength));\n    }\n  }, {\n    key: \"calculatePasswordEntropyWords\",\n    value: function calculatePasswordEntropyWords(wordsCount) {\n      return !this.dictionarySize ? 0 : this.log2(this.dictionarySize) * wordsCount;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var view = this.component.interpolate(this.template, {\n        entropy: this.entropy,\n        maxEntropy: this.maxEntropy,\n        level: this.level,\n        levelName: this.level.name.replace(' ', '-').toLowerCase(),\n        levels: this.levels,\n        readOnly: this.component.options.readOnly,\n        pristine: this.component.pristine,\n        t: this.t.bind(this),\n        tooltip: this.tooltip\n      });\n      return this.component.sanitize(view);\n    }\n  }, {\n    key: \"checkBlackList\",\n    value: function checkBlackList(value) {\n      var blackList = _toConsumableArray(this.settings.blackList);\n      var customBlacklistedWords = this.settings.customBlacklistedWords;\n      if (customBlacklistedWords && typeof customBlacklistedWords === 'string') {\n        customBlacklistedWords = this.evaluate(customBlacklistedWords, this.component.evalContext({\n          value: value\n        }), 'values');\n        if (customBlacklistedWords && customBlacklistedWords.length) {\n          blackList.push.apply(blackList, _toConsumableArray(customBlacklistedWords));\n        }\n      }\n      var restValue = value;\n      var blacklistedWords = [];\n      for (var i = 0; i < blackList.length; i++) {\n        var word = blackList[i];\n        var regExp = new RegExp(\"\".concat(word), 'gi');\n        if (regExp.test(value)) {\n          blacklistedWords.push(word);\n          restValue = restValue.replace(regExp, '');\n        } // If less the 3 symboles left, just stop iterating\n\n        if (restValue.length < 3) {\n          break;\n        }\n      }\n      if (blacklistedWords.length) {\n        // If there are some random characters except of blacklisted words in the password,\n        // calculate the entropy for them\n        var _ref = restValue.length ? this.performChecks(restValue) : 0,\n          charactersPoolSize = _ref.charactersPoolSize;\n        var entropyOfNonblacklistedValue = this.calculatePasswordEntropy(restValue.length, charactersPoolSize); // Calculate the entropy if the biggest part of the password could be picked up from dictionary words\n\n        var dictionaryCheckEntropy = this.calculatePasswordEntropyWords(blacklistedWords.length);\n        var entropy = dictionaryCheckEntropy + entropyOfNonblacklistedValue;\n        return {\n          entropy: entropy,\n          blacklistedWords: blacklistedWords\n        };\n      }\n      return true;\n    }\n    /**\n     * Determines is a password is secure enough to submit\n     * @return {boolean}\n     */\n  }, {\n    key: \"isValid\",\n    value: function isValid() {\n      var isValidCheck = this.settings.isValid;\n      if (isValidCheck && typeof isValidCheck === 'string') {\n        var valid = this.evaluate(isValidCheck, this.component.evalContext({\n          entropy: this.entropy,\n          level: this.level\n        }), 'valid');\n        return valid;\n      }\n      return this.entropy >= Math.round(this.maxEntropy / 2);\n    }\n    /**\n     * Handles the result of check and constructs a new error object or returns an amount of points to add to the current entropy\n     * @param {boolean|number} valid - Determines if the validation was failed or an amount of points if it was passed\n     * @param {*} validation - Validation configuration\n     * @param {string} value - Value which was validated\n     * @param {string} message - Message which should be shown if validation was not passed\n     */\n  }, {\n    key: \"handleRuleCheckResult\",\n    value: function handleRuleCheckResult(valid, validation, message, errors) {\n      if (valid !== true) {\n        errors.push({\n          validation: validation.name,\n          message: message,\n          level: validation.required ? 'error' : 'warning'\n        });\n      } else if (validation.increaseCharactersPoolSize) {\n        return validation.increaseCharactersPoolSize;\n      }\n      return 0;\n    }\n  }, {\n    key: \"performChecks\",\n    value: function performChecks(value) {\n      var _this3 = this;\n      var errors = [];\n      var charactersPoolSize = 0;\n      this.rulesSettings.forEach(function (settings) {\n        if (_this3.rules[settings.name]) {\n          var rule = _lodash.default.merge({}, _this3.rules[settings.name], settings);\n          var valid = rule.check(value, settings.options || {});\n          var message = settings.message || valid;\n          charactersPoolSize += _this3.handleRuleCheckResult(valid, rule, message, errors);\n        }\n      });\n      this.customRules.forEach(function (rule) {\n        if (rule.check && typeof rule.check === 'string') {\n          var valid = _this3.evaluate(rule.check, _this3.component.evalContext({\n            value: value\n          }), 'valid');\n          var message = typeof valid === 'string' ? valid : \"Password does not meet \".concat(rule.name, \" validation\");\n          charactersPoolSize += _this3.handleRuleCheckResult(valid, rule, message, errors);\n        }\n      });\n      return {\n        charactersPoolSize: charactersPoolSize,\n        errors: errors\n      };\n    }\n    /**\n     * Performs checks to validate password security\n     * @param {string} value - Suggested password\n     */\n  }, {\n    key: \"checkValidity\",\n    value: function checkValidity(value) {\n      var _this$settings$blackL;\n      var passwordLength = value.length;\n      var _this$performChecks = this.performChecks(value),\n        charactersPoolSize = _this$performChecks.charactersPoolSize,\n        errors = _this$performChecks.errors;\n      this.errors = errors;\n      var entropy = this.calculatePasswordEntropy(passwordLength, charactersPoolSize);\n      var blackListCheck = (_this$settings$blackL = this.settings.blackList) !== null && _this$settings$blackL !== void 0 && _this$settings$blackL.length || this.settings.customBlacklistedWords ? this.checkBlackList(value) : null; // If there were found some words from the black list\n\n      if (blackListCheck && blackListCheck !== true) {\n        this.handleBlackListCheckResult(blackListCheck); // Select the mininal entropy based on the dictionary check or symbolic check\n\n        this.entropy = Math.min(entropy, blackListCheck.entropy);\n      } else {\n        this.entropy = entropy;\n      }\n      var isValid = this.isValid();\n      if (!isValid) {\n        this.errors.push({\n          message: 'Password is not strong enough',\n          level: this.settings.required ? 'error' : 'warning'\n        });\n      }\n      return !this.errors.length;\n    }\n  }, {\n    key: \"handleBlackListCheckResult\",\n    value: function handleBlackListCheckResult(result) {\n      var blacklistedWords = result.blacklistedWords;\n      var isRequired = this.settings.disableBlacklistedWords;\n      var message = \"Password \".concat(isRequired ? 'must' : 'should', \" not include common words: \").concat(blacklistedWords.join(', '));\n      var validation = {\n        name: 'blacklist',\n        required: isRequired\n      };\n      this.handleRuleCheckResult(false, validation, message, this.errors);\n    }\n  }, {\n    key: \"attach\",\n    value: function attach(element) {\n      var _this4 = this;\n      _get(_getPrototypeOf(PasswordStrengthAddon.prototype), \"attach\", this).call(this, element);\n      var container = this.component.ce('div', {\n        ref: 'passwordStrengthIndicator'\n      });\n      var inserted = this.insertContainer(element, container);\n      if (!inserted) {\n        this.component.append(container);\n      }\n      this._element = container;\n      this.component.on('redraw', function () {\n        return _this4.updateView();\n      });\n      this.component.on('componentError', function () {\n        return _this4.updateView();\n      });\n      this.updateView();\n    }\n  }, {\n    key: \"insertContainer\",\n    value: function insertContainer(element, container) {\n      var _this$settings$locati, _this$settings$locati2;\n      if (!element || !container) {\n        return false;\n      }\n      var insert = (_this$settings$locati = this.settings.location) === null || _this$settings$locati === void 0 ? void 0 : _this$settings$locati.insert;\n      var selector = (_this$settings$locati2 = this.settings.location) === null || _this$settings$locati2 === void 0 ? void 0 : _this$settings$locati2.selector;\n      var reference;\n      if (selector) {\n        reference = element.querySelector(selector);\n      }\n      if (reference) {\n        var parent = reference.parentNode;\n        switch (insert) {\n          case 'after':\n            if (parent) {\n              parent.insertBefore(container, reference.nextSibling || null);\n              return true;\n            }\n            return false;\n          case 'before':\n            if (parent) {\n              parent.insertBefore(container, reference);\n              return true;\n            }\n            return false;\n          default:\n            console.warn(\"Unknown insert option: \".concat(insert));\n            return false;\n        }\n      } else {\n        console.warn(\"No elements found using selector: \".concat(selector));\n        return false;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(PasswordStrengthAddon.prototype), \"destroy\", this).call(this);\n    }\n    /**\n     * Finds the level which one the passed entropy suits\n     * @param {number} entropy - Points of password's security\n     */\n  }, {\n    key: \"getLevel\",\n    value: function getLevel() {\n      var entropy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.entropy;\n      var lowestLevel = this.levels[0];\n      var prevMaxEntropy = lowestLevel.maxEntropy;\n      if (entropy <= lowestLevel.maxEntropy) {\n        return lowestLevel;\n      }\n      if (entropy >= this.maxEntropy) {\n        return this.levels[this.levels.length - 1];\n      } // Iterate through levels and find the one which the passed entropy belongs to\n\n      for (var i = 1; i < this.levels.length; i++) {\n        var level = this.levels[i];\n        if (entropy > prevMaxEntropy && entropy <= level.maxEntropy) {\n          return level;\n        }\n        prevMaxEntropy = level.maxEntropy;\n      }\n      return lowestLevel;\n    }\n    /**\n     * Update the current view of the password's security indicator\n     */\n  }, {\n    key: \"updateView\",\n    value: function updateView() {\n      if (!this.element) {\n        return;\n      }\n      var view = this.render();\n      this.element.innerHTML = view;\n    }\n  }], [{\n    key: \"info\",\n    get: function get() {\n      return {\n        supportedComponents: ['password'],\n        name: 'passwordStrength',\n        components: _PasswordStrengthAddon.default,\n        label: 'Password Strength',\n        defaultSettings: {\n          rulesSettings: [{\n            name: 'length',\n            required: false,\n            message: 'Value should be longer'\n          }, {\n            name: 'upperCase',\n            required: false,\n            message: 'Value should have uppercase letters'\n          }, {\n            name: 'numeric',\n            required: false,\n            message: 'Value should have numeric symbols'\n          }, {\n            name: 'lowerCase',\n            required: false,\n            message: 'Value should be have lowercase letters'\n          }, {\n            name: 'symbols',\n            required: false,\n            message: 'Value should have symbols'\n          }],\n          updateOn: 'levelChange',\n          required: true,\n          levels: [{\n            name: 'Low',\n            maxEntropy: 28,\n            style: 'danger'\n          }, {\n            name: 'Medium',\n            maxEntropy: 45,\n            style: 'warning'\n          }, {\n            name: 'High',\n            maxEntropy: 59,\n            style: 'info'\n          }, {\n            name: 'Very High',\n            maxEntropy: 85,\n            style: 'success'\n          }],\n          blackList: [],\n          template: \"\\n          <div class=\\\"formio-security-indicator\\\">\\n            {% if (!ctx.readOnly && !ctx.pristine) { %}\\n              <div\\n                title=\\\"{{ctx.t(ctx.tooltip)}}\\\"\\n                class=\\\"security-{{ctx.levelName}} {{ ctx.level.style ? 'bg-' + ctx.level.style : ''}}\\\"\\n                style=\\\"{{ctx.level.color ? 'background-color: ' + ctx.level.color + ';' : ''}}\\\"\\n              ></div>\\n            {% } %}\\n          </div>\\n        \",\n          location: {\n            insert: 'after',\n            selector: '[ref=\"element\"]'\n          }\n        }\n      };\n    }\n  }]);\n  return PasswordStrengthAddon;\n}(_FormioAddon2.default);\nexports.default = PasswordStrengthAddon;","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","require","Object","defineProperty","exports","value","default","_lodash","_interopRequireDefault","_FormioAddon2","_PasswordStrengthAddon","__esModule","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","toString","call","slice","name","Array","from","test","iter","isArray","len","length","i","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","_get","Reflect","get","bind","property","receiver","base","_superPropBase","desc","getOwnPropertyDescriptor","arguments","apply","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","PasswordStrengthAddon","_FormioAddon","_super","settings","componentInstance","_this","_entropy","levels","defaultSettings","sort","a","b","maxEntropy","level","info","_this2","check","options","minLength","component","validate","concat","upperCase","increaseCharactersPoolSize","numeric","lowerCase","symbols","_charactersPoolLength","set","_level","getLevel","oldLevel","updateOnEntropyChange","updateOn","updateOnLevelChange","updateView","dictionarySize","template","_this$level","_this$level2","tooltip","rulesSettings","customRules","log2","Math","log","LOG2E","calculatePasswordEntropy","passwordLength","charactersPoolSize","pow","calculatePasswordEntropyWords","wordsCount","render","view","interpolate","entropy","levelName","replace","toLowerCase","readOnly","pristine","t","sanitize","checkBlackList","blackList","customBlacklistedWords","evaluate","evalContext","push","restValue","blacklistedWords","word","regExp","RegExp","_ref","performChecks","entropyOfNonblacklistedValue","dictionaryCheckEntropy","isValid","isValidCheck","valid","round","handleRuleCheckResult","validation","message","errors","required","_this3","forEach","rules","rule","merge","checkValidity","_this$settings$blackL","_this$performChecks","blackListCheck","handleBlackListCheckResult","min","isRequired","disableBlacklistedWords","join","attach","element","_this4","container","ce","ref","inserted","insertContainer","append","_element","on","_this$settings$locati","_this$settings$locati2","insert","location","selector","reference","querySelector","parent","parentNode","insertBefore","nextSibling","console","warn","destroy","undefined","lowestLevel","prevMaxEntropy","innerHTML","supportedComponents","components","label","style"],"sources":["D:/task/node_modules/formiojs/addons/PasswordStrength/PasswordStrengthAddon.js"],"sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nrequire(\"core-js/modules/es.reflect.construct.js\");\n\nrequire(\"core-js/modules/es.reflect.get.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.symbol.iterator.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.array.from.js\");\n\nrequire(\"core-js/modules/es.array.slice.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es.array.sort.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.function.name.js\");\n\nrequire(\"core-js/modules/es.math.log2.js\");\n\nrequire(\"core-js/modules/es.string.replace.js\");\n\nrequire(\"core-js/modules/es.regexp.constructor.js\");\n\nrequire(\"core-js/modules/es.regexp.to-string.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/es.array.join.js\");\n\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _FormioAddon2 = _interopRequireDefault(require(\"../FormioAddon\"));\n\nvar _PasswordStrengthAddon = _interopRequireDefault(require(\"./PasswordStrengthAddon.form\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar PasswordStrengthAddon = /*#__PURE__*/function (_FormioAddon) {\n  _inherits(PasswordStrengthAddon, _FormioAddon);\n\n  var _super = _createSuper(PasswordStrengthAddon);\n\n  function PasswordStrengthAddon(settings, componentInstance) {\n    var _this;\n\n    _classCallCheck(this, PasswordStrengthAddon);\n\n    _this = _super.call(this, settings, componentInstance);\n    _this._entropy = 0; // Set initial value of entropy\n\n    _this.levels = _toConsumableArray(_this.settings.levels || _this.defaultSettings.levels);\n\n    _this.levels.sort(function (a, b) {\n      return a.maxEntropy - b.maxEntropy;\n    }); // Sort levels from the lowest one to the highest\n\n\n    _this.level = _this.levels[0]; // Set currnt level to the lowest one\n\n    _this.maxEntropy = _this.levels[_this.levels.length - 1].maxEntropy; // Set maximal amount of security points based on the highest level\n\n    return _this;\n  }\n\n  _createClass(PasswordStrengthAddon, [{\n    key: \"defaultSettings\",\n    get: function get() {\n      return PasswordStrengthAddon.info.defaultSettings;\n    }\n  }, {\n    key: \"rules\",\n    get: function get() {\n      var _this2 = this;\n\n      return {\n        length: {\n          check: function check(value, options) {\n            var minLength = options.minLength || _this2.component.component.validate.minLength || 6;\n\n            if (value.length < minLength) {\n              return \"Value must be longer than \".concat(minLength, \" characters\");\n            }\n\n            return true;\n          }\n        },\n        upperCase: {\n          check: function check(value) {\n            if (/[A-Z]/g.test(value)) {\n              return true;\n            }\n\n            return 'Value must contain uppercased alphabetical characters';\n          },\n          increaseCharactersPoolSize: 26\n        },\n        numeric: {\n          check: function check(value) {\n            if (/[0-9]/g.test(value)) {\n              return true;\n            }\n\n            return 'Value must contain numeric characters';\n          },\n          increaseCharactersPoolSize: 10\n        },\n        lowerCase: {\n          check: function check(value) {\n            if (/[a-z]/g.test(value)) {\n              return true;\n            }\n\n            return 'Value must contain lowercased alphabetical characters';\n          },\n          increaseCharactersPoolSize: 26\n        },\n        symbols: {\n          check: function check(value) {\n            if (/[ `!@#$%^&*()_+\\-=[\\]{};':\"\\\\|,.<>/?~]/.test(value)) {\n              return true;\n            }\n\n            return 'Value must contain symbols';\n          },\n          increaseCharactersPoolSize: 32\n        }\n      };\n    }\n  }, {\n    key: \"charactersPoolLength\",\n    get: function get() {\n      return this._charactersPoolLength;\n    },\n    set: function set(value) {\n      this._charactersPoolLength = value;\n    }\n  }, {\n    key: \"level\",\n    get: function get() {\n      return this._level || this.getLevel();\n    },\n    set: function set(level) {\n      this._level = level;\n    }\n  }, {\n    key: \"entropy\",\n    get: function get() {\n      return this._entropy;\n    },\n    set: function set(value) {\n      var oldLevel = this.getLevel();\n      var updateOnEntropyChange = this.settings.updateOn === 'entropyChange' && this._entropy !== value;\n      this._entropy = value;\n      this.level = this.getLevel();\n      var updateOnLevelChange = this.settings.updateOn === 'levelChange' && oldLevel.name !== this.level.name;\n\n      if (updateOnLevelChange || updateOnEntropyChange) {\n        this.updateView();\n      }\n    }\n  }, {\n    key: \"dictionarySize\",\n    get: function get() {\n      return this.settings.dictionarySize || 171476;\n    }\n  }, {\n    key: \"template\",\n    get: function get() {\n      return this.settings.template;\n    }\n  }, {\n    key: \"tooltip\",\n    get: function get() {\n      var _this$level, _this$level2;\n\n      return ((_this$level = this.level) === null || _this$level === void 0 ? void 0 : _this$level.tooltip) || \"\".concat((_this$level2 = this.level) === null || _this$level2 === void 0 ? void 0 : _this$level2.name, \" strongness\");\n    }\n  }, {\n    key: \"rulesSettings\",\n    get: function get() {\n      return this.settings.rulesSettings || [];\n    }\n  }, {\n    key: \"customRules\",\n    get: function get() {\n      return this.settings.customRules || [];\n    }\n  }, {\n    key: \"log2\",\n    value: function log2(value) {\n      if (typeof Math.log2 === 'function') {\n        return Math.log2(value);\n      }\n\n      return Math.log(value) * Math.LOG2E;\n    }\n  }, {\n    key: \"calculatePasswordEntropy\",\n    value: function calculatePasswordEntropy(passwordLength, charactersPoolSize) {\n      return !passwordLength || !charactersPoolSize ? 0 : this.log2(Math.pow(charactersPoolSize, passwordLength));\n    }\n  }, {\n    key: \"calculatePasswordEntropyWords\",\n    value: function calculatePasswordEntropyWords(wordsCount) {\n      return !this.dictionarySize ? 0 : this.log2(this.dictionarySize) * wordsCount;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var view = this.component.interpolate(this.template, {\n        entropy: this.entropy,\n        maxEntropy: this.maxEntropy,\n        level: this.level,\n        levelName: this.level.name.replace(' ', '-').toLowerCase(),\n        levels: this.levels,\n        readOnly: this.component.options.readOnly,\n        pristine: this.component.pristine,\n        t: this.t.bind(this),\n        tooltip: this.tooltip\n      });\n      return this.component.sanitize(view);\n    }\n  }, {\n    key: \"checkBlackList\",\n    value: function checkBlackList(value) {\n      var blackList = _toConsumableArray(this.settings.blackList);\n\n      var customBlacklistedWords = this.settings.customBlacklistedWords;\n\n      if (customBlacklistedWords && typeof customBlacklistedWords === 'string') {\n        customBlacklistedWords = this.evaluate(customBlacklistedWords, this.component.evalContext({\n          value: value\n        }), 'values');\n\n        if (customBlacklistedWords && customBlacklistedWords.length) {\n          blackList.push.apply(blackList, _toConsumableArray(customBlacklistedWords));\n        }\n      }\n\n      var restValue = value;\n      var blacklistedWords = [];\n\n      for (var i = 0; i < blackList.length; i++) {\n        var word = blackList[i];\n        var regExp = new RegExp(\"\".concat(word), 'gi');\n\n        if (regExp.test(value)) {\n          blacklistedWords.push(word);\n          restValue = restValue.replace(regExp, '');\n        } // If less the 3 symboles left, just stop iterating\n\n\n        if (restValue.length < 3) {\n          break;\n        }\n      }\n\n      if (blacklistedWords.length) {\n        // If there are some random characters except of blacklisted words in the password,\n        // calculate the entropy for them\n        var _ref = restValue.length ? this.performChecks(restValue) : 0,\n            charactersPoolSize = _ref.charactersPoolSize;\n\n        var entropyOfNonblacklistedValue = this.calculatePasswordEntropy(restValue.length, charactersPoolSize); // Calculate the entropy if the biggest part of the password could be picked up from dictionary words\n\n        var dictionaryCheckEntropy = this.calculatePasswordEntropyWords(blacklistedWords.length);\n        var entropy = dictionaryCheckEntropy + entropyOfNonblacklistedValue;\n        return {\n          entropy: entropy,\n          blacklistedWords: blacklistedWords\n        };\n      }\n\n      return true;\n    }\n    /**\n     * Determines is a password is secure enough to submit\n     * @return {boolean}\n     */\n\n  }, {\n    key: \"isValid\",\n    value: function isValid() {\n      var isValidCheck = this.settings.isValid;\n\n      if (isValidCheck && typeof isValidCheck === 'string') {\n        var valid = this.evaluate(isValidCheck, this.component.evalContext({\n          entropy: this.entropy,\n          level: this.level\n        }), 'valid');\n        return valid;\n      }\n\n      return this.entropy >= Math.round(this.maxEntropy / 2);\n    }\n    /**\n     * Handles the result of check and constructs a new error object or returns an amount of points to add to the current entropy\n     * @param {boolean|number} valid - Determines if the validation was failed or an amount of points if it was passed\n     * @param {*} validation - Validation configuration\n     * @param {string} value - Value which was validated\n     * @param {string} message - Message which should be shown if validation was not passed\n     */\n\n  }, {\n    key: \"handleRuleCheckResult\",\n    value: function handleRuleCheckResult(valid, validation, message, errors) {\n      if (valid !== true) {\n        errors.push({\n          validation: validation.name,\n          message: message,\n          level: validation.required ? 'error' : 'warning'\n        });\n      } else if (validation.increaseCharactersPoolSize) {\n        return validation.increaseCharactersPoolSize;\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"performChecks\",\n    value: function performChecks(value) {\n      var _this3 = this;\n\n      var errors = [];\n      var charactersPoolSize = 0;\n      this.rulesSettings.forEach(function (settings) {\n        if (_this3.rules[settings.name]) {\n          var rule = _lodash.default.merge({}, _this3.rules[settings.name], settings);\n\n          var valid = rule.check(value, settings.options || {});\n          var message = settings.message || valid;\n          charactersPoolSize += _this3.handleRuleCheckResult(valid, rule, message, errors);\n        }\n      });\n      this.customRules.forEach(function (rule) {\n        if (rule.check && typeof rule.check === 'string') {\n          var valid = _this3.evaluate(rule.check, _this3.component.evalContext({\n            value: value\n          }), 'valid');\n\n          var message = typeof valid === 'string' ? valid : \"Password does not meet \".concat(rule.name, \" validation\");\n          charactersPoolSize += _this3.handleRuleCheckResult(valid, rule, message, errors);\n        }\n      });\n      return {\n        charactersPoolSize: charactersPoolSize,\n        errors: errors\n      };\n    }\n    /**\n     * Performs checks to validate password security\n     * @param {string} value - Suggested password\n     */\n\n  }, {\n    key: \"checkValidity\",\n    value: function checkValidity(value) {\n      var _this$settings$blackL;\n\n      var passwordLength = value.length;\n\n      var _this$performChecks = this.performChecks(value),\n          charactersPoolSize = _this$performChecks.charactersPoolSize,\n          errors = _this$performChecks.errors;\n\n      this.errors = errors;\n      var entropy = this.calculatePasswordEntropy(passwordLength, charactersPoolSize);\n      var blackListCheck = (_this$settings$blackL = this.settings.blackList) !== null && _this$settings$blackL !== void 0 && _this$settings$blackL.length || this.settings.customBlacklistedWords ? this.checkBlackList(value) : null; // If there were found some words from the black list\n\n      if (blackListCheck && blackListCheck !== true) {\n        this.handleBlackListCheckResult(blackListCheck); // Select the mininal entropy based on the dictionary check or symbolic check\n\n        this.entropy = Math.min(entropy, blackListCheck.entropy);\n      } else {\n        this.entropy = entropy;\n      }\n\n      var isValid = this.isValid();\n\n      if (!isValid) {\n        this.errors.push({\n          message: 'Password is not strong enough',\n          level: this.settings.required ? 'error' : 'warning'\n        });\n      }\n\n      return !this.errors.length;\n    }\n  }, {\n    key: \"handleBlackListCheckResult\",\n    value: function handleBlackListCheckResult(result) {\n      var blacklistedWords = result.blacklistedWords;\n      var isRequired = this.settings.disableBlacklistedWords;\n      var message = \"Password \".concat(isRequired ? 'must' : 'should', \" not include common words: \").concat(blacklistedWords.join(', '));\n      var validation = {\n        name: 'blacklist',\n        required: isRequired\n      };\n      this.handleRuleCheckResult(false, validation, message, this.errors);\n    }\n  }, {\n    key: \"attach\",\n    value: function attach(element) {\n      var _this4 = this;\n\n      _get(_getPrototypeOf(PasswordStrengthAddon.prototype), \"attach\", this).call(this, element);\n\n      var container = this.component.ce('div', {\n        ref: 'passwordStrengthIndicator'\n      });\n      var inserted = this.insertContainer(element, container);\n\n      if (!inserted) {\n        this.component.append(container);\n      }\n\n      this._element = container;\n      this.component.on('redraw', function () {\n        return _this4.updateView();\n      });\n      this.component.on('componentError', function () {\n        return _this4.updateView();\n      });\n      this.updateView();\n    }\n  }, {\n    key: \"insertContainer\",\n    value: function insertContainer(element, container) {\n      var _this$settings$locati, _this$settings$locati2;\n\n      if (!element || !container) {\n        return false;\n      }\n\n      var insert = (_this$settings$locati = this.settings.location) === null || _this$settings$locati === void 0 ? void 0 : _this$settings$locati.insert;\n      var selector = (_this$settings$locati2 = this.settings.location) === null || _this$settings$locati2 === void 0 ? void 0 : _this$settings$locati2.selector;\n      var reference;\n\n      if (selector) {\n        reference = element.querySelector(selector);\n      }\n\n      if (reference) {\n        var parent = reference.parentNode;\n\n        switch (insert) {\n          case 'after':\n            if (parent) {\n              parent.insertBefore(container, reference.nextSibling || null);\n              return true;\n            }\n\n            return false;\n\n          case 'before':\n            if (parent) {\n              parent.insertBefore(container, reference);\n              return true;\n            }\n\n            return false;\n\n          default:\n            console.warn(\"Unknown insert option: \".concat(insert));\n            return false;\n        }\n      } else {\n        console.warn(\"No elements found using selector: \".concat(selector));\n        return false;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(PasswordStrengthAddon.prototype), \"destroy\", this).call(this);\n    }\n    /**\n     * Finds the level which one the passed entropy suits\n     * @param {number} entropy - Points of password's security\n     */\n\n  }, {\n    key: \"getLevel\",\n    value: function getLevel() {\n      var entropy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.entropy;\n      var lowestLevel = this.levels[0];\n      var prevMaxEntropy = lowestLevel.maxEntropy;\n\n      if (entropy <= lowestLevel.maxEntropy) {\n        return lowestLevel;\n      }\n\n      if (entropy >= this.maxEntropy) {\n        return this.levels[this.levels.length - 1];\n      } // Iterate through levels and find the one which the passed entropy belongs to\n\n\n      for (var i = 1; i < this.levels.length; i++) {\n        var level = this.levels[i];\n\n        if (entropy > prevMaxEntropy && entropy <= level.maxEntropy) {\n          return level;\n        }\n\n        prevMaxEntropy = level.maxEntropy;\n      }\n\n      return lowestLevel;\n    }\n    /**\n     * Update the current view of the password's security indicator\n     */\n\n  }, {\n    key: \"updateView\",\n    value: function updateView() {\n      if (!this.element) {\n        return;\n      }\n\n      var view = this.render();\n      this.element.innerHTML = view;\n    }\n  }], [{\n    key: \"info\",\n    get: function get() {\n      return {\n        supportedComponents: ['password'],\n        name: 'passwordStrength',\n        components: _PasswordStrengthAddon.default,\n        label: 'Password Strength',\n        defaultSettings: {\n          rulesSettings: [{\n            name: 'length',\n            required: false,\n            message: 'Value should be longer'\n          }, {\n            name: 'upperCase',\n            required: false,\n            message: 'Value should have uppercase letters'\n          }, {\n            name: 'numeric',\n            required: false,\n            message: 'Value should have numeric symbols'\n          }, {\n            name: 'lowerCase',\n            required: false,\n            message: 'Value should be have lowercase letters'\n          }, {\n            name: 'symbols',\n            required: false,\n            message: 'Value should have symbols'\n          }],\n          updateOn: 'levelChange',\n          required: true,\n          levels: [{\n            name: 'Low',\n            maxEntropy: 28,\n            style: 'danger'\n          }, {\n            name: 'Medium',\n            maxEntropy: 45,\n            style: 'warning'\n          }, {\n            name: 'High',\n            maxEntropy: 59,\n            style: 'info'\n          }, {\n            name: 'Very High',\n            maxEntropy: 85,\n            style: 'success'\n          }],\n          blackList: [],\n          template: \"\\n          <div class=\\\"formio-security-indicator\\\">\\n            {% if (!ctx.readOnly && !ctx.pristine) { %}\\n              <div\\n                title=\\\"{{ctx.t(ctx.tooltip)}}\\\"\\n                class=\\\"security-{{ctx.levelName}} {{ ctx.level.style ? 'bg-' + ctx.level.style : ''}}\\\"\\n                style=\\\"{{ctx.level.color ? 'background-color: ' + ctx.level.color + ';' : ''}}\\\"\\n              ></div>\\n            {% } %}\\n          </div>\\n        \",\n          location: {\n            insert: 'after',\n            selector: '[ref=\"element\"]'\n          }\n        }\n      };\n    }\n  }]);\n\n  return PasswordStrengthAddon;\n}(_FormioAddon2.default);\n\nexports.default = PasswordStrengthAddon;"],"mappings":"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"},"metadata":{},"sourceType":"script"}