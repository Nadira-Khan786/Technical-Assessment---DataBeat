{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getSubmissions = exports.resetSubmissions = undefined;\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nvar _Formio = require('formiojs/Formio');\nvar _Formio2 = _interopRequireDefault(_Formio);\nvar _root = require('../root');\nvar _constants = require('./constants');\nvar types = _interopRequireWildcard(_constants);\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n    newObj.default = obj;\n    return newObj;\n  }\n}\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nvar resetSubmissions = exports.resetSubmissions = function resetSubmissions(name) {\n  return {\n    type: types.SUBMISSIONS_RESET,\n    name: name\n  };\n};\nvar requestSubmissions = function requestSubmissions(name, page, params, formId) {\n  return {\n    type: types.SUBMISSIONS_REQUEST,\n    name: name,\n    page: page,\n    params: params,\n    formId: formId\n  };\n};\nvar receiveSubmissions = function receiveSubmissions(name, submissions) {\n  return {\n    type: types.SUBMISSIONS_SUCCESS,\n    name: name,\n    submissions: submissions\n  };\n};\nvar failSubmissions = function failSubmissions(name, error) {\n  return {\n    type: types.SUBMISSIONS_FAILURE,\n    name: name,\n    error: error\n  };\n};\nvar getSubmissions = exports.getSubmissions = function getSubmissions(name) {\n  var page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var formId = arguments[3];\n  var done = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : function () {};\n  return function (dispatch, getState) {\n    dispatch(requestSubmissions(name, page, params, formId));\n    var _selectRoot = (0, _root.selectRoot)(name, getState()),\n      limit = _selectRoot.limit,\n      query = _selectRoot.query,\n      select = _selectRoot.select,\n      sort = _selectRoot.sort;\n    var formio = new _Formio2.default(_Formio2.default.getProjectUrl() + '/' + (formId ? 'form/' + formId : name) + '/submission');\n    var requestParams = _extends({}, query, params);\n\n    // Ten is the default so if set to 10, don't send.\n    if (limit !== 10) {\n      requestParams.limit = limit;\n    } else {\n      delete requestParams.limit;\n    }\n    if (page !== 1) {\n      requestParams.skip = (page - 1) * limit;\n    } else {\n      delete requestParams.skip;\n    }\n    if (select) {\n      requestParams.select = select;\n    } else {\n      delete requestParams.select;\n    }\n    if (sort) {\n      requestParams.sort = sort;\n    } else {\n      delete requestParams.sort;\n    }\n    return formio.loadSubmissions({\n      params: requestParams\n    }).then(function (result) {\n      dispatch(receiveSubmissions(name, result));\n      done(null, result);\n    }).catch(function (error) {\n      dispatch(failSubmissions(name, error));\n      done(error);\n    });\n  };\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","getSubmissions","resetSubmissions","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_Formio","require","_Formio2","_interopRequireDefault","_root","_constants","types","_interopRequireWildcard","obj","__esModule","newObj","default","name","type","SUBMISSIONS_RESET","requestSubmissions","page","params","formId","SUBMISSIONS_REQUEST","receiveSubmissions","submissions","SUBMISSIONS_SUCCESS","failSubmissions","error","SUBMISSIONS_FAILURE","done","dispatch","getState","_selectRoot","selectRoot","limit","query","select","sort","formio","getProjectUrl","requestParams","skip","loadSubmissions","then","result","catch"],"sources":["D:/task/node_modules/react-formio/lib/modules/submissions/actions.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getSubmissions = exports.resetSubmissions = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _Formio = require('formiojs/Formio');\n\nvar _Formio2 = _interopRequireDefault(_Formio);\n\nvar _root = require('../root');\n\nvar _constants = require('./constants');\n\nvar types = _interopRequireWildcard(_constants);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar resetSubmissions = exports.resetSubmissions = function resetSubmissions(name) {\n  return {\n    type: types.SUBMISSIONS_RESET,\n    name: name\n  };\n};\n\nvar requestSubmissions = function requestSubmissions(name, page, params, formId) {\n  return {\n    type: types.SUBMISSIONS_REQUEST,\n    name: name,\n    page: page,\n    params: params,\n    formId: formId\n  };\n};\n\nvar receiveSubmissions = function receiveSubmissions(name, submissions) {\n  return {\n    type: types.SUBMISSIONS_SUCCESS,\n    name: name,\n    submissions: submissions\n  };\n};\n\nvar failSubmissions = function failSubmissions(name, error) {\n  return {\n    type: types.SUBMISSIONS_FAILURE,\n    name: name,\n    error: error\n  };\n};\n\nvar getSubmissions = exports.getSubmissions = function getSubmissions(name) {\n  var page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var formId = arguments[3];\n  var done = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : function () {};\n  return function (dispatch, getState) {\n    dispatch(requestSubmissions(name, page, params, formId));\n\n    var _selectRoot = (0, _root.selectRoot)(name, getState()),\n        limit = _selectRoot.limit,\n        query = _selectRoot.query,\n        select = _selectRoot.select,\n        sort = _selectRoot.sort;\n\n    var formio = new _Formio2.default(_Formio2.default.getProjectUrl() + '/' + (formId ? 'form/' + formId : name) + '/submission');\n    var requestParams = _extends({}, query, params);\n\n    // Ten is the default so if set to 10, don't send.\n    if (limit !== 10) {\n      requestParams.limit = limit;\n    } else {\n      delete requestParams.limit;\n    }\n\n    if (page !== 1) {\n      requestParams.skip = (page - 1) * limit;\n    } else {\n      delete requestParams.skip;\n    }\n\n    if (select) {\n      requestParams.select = select;\n    } else {\n      delete requestParams.select;\n    }\n\n    if (sort) {\n      requestParams.sort = sort;\n    } else {\n      delete requestParams.sort;\n    }\n\n    return formio.loadSubmissions({ params: requestParams }).then(function (result) {\n      dispatch(receiveSubmissions(name, result));\n      done(null, result);\n    }).catch(function (error) {\n      dispatch(failSubmissions(name, error));\n      done(error);\n    });\n  };\n};"],"mappings":"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"},"metadata":{},"sourceType":"script"}