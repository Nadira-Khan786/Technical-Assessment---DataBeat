{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deleteForm = exports.saveForm = exports.getForm = exports.resetForm = exports.clearFormError = undefined;\nvar _Formio = require('formiojs/Formio');\nvar _Formio2 = _interopRequireDefault(_Formio);\nvar _constants = require('./constants');\nvar types = _interopRequireWildcard(_constants);\nvar _selectors = require('./selectors');\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n    newObj.default = obj;\n    return newObj;\n  }\n}\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nvar clearFormError = exports.clearFormError = function clearFormError(name) {\n  return {\n    type: types.FORM_CLEAR_ERROR,\n    name: name\n  };\n};\nvar requestForm = function requestForm(name, id, url) {\n  return {\n    type: types.FORM_REQUEST,\n    name: name,\n    id: id,\n    url: url\n  };\n};\nvar receiveForm = function receiveForm(name, form, url) {\n  return {\n    type: types.FORM_SUCCESS,\n    form: form,\n    name: name,\n    url: url\n  };\n};\nvar failForm = function failForm(name, err) {\n  return {\n    type: types.FORM_FAILURE,\n    error: err,\n    name: name\n  };\n};\nvar resetForm = exports.resetForm = function resetForm(name) {\n  return {\n    type: types.FORM_RESET,\n    name: name\n  };\n};\nvar sendForm = function sendForm(name, form) {\n  return {\n    type: types.FORM_SAVE,\n    form: form,\n    name: name\n  };\n};\nvar getForm = exports.getForm = function getForm(name) {\n  var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var done = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n  return function (dispatch, getState) {\n    // Check to see if the form is already loaded.\n    var form = (0, _selectors.selectForm)(name, getState());\n    if (form.components && Array.isArray(form.components) && form.components.length && form._id === id) {\n      return;\n    }\n    var path = _Formio2.default.getProjectUrl() + '/' + (id ? 'form/' + id : name);\n    var formio = new _Formio2.default(path);\n    dispatch(requestForm(name, id, path));\n    return formio.loadForm().then(function (result) {\n      dispatch(receiveForm(name, result));\n      done(null, result);\n    }).catch(function (result) {\n      dispatch(failForm(name, result));\n      done(result);\n    });\n  };\n};\nvar saveForm = exports.saveForm = function saveForm(name, form) {\n  var done = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n  return function (dispatch) {\n    dispatch(sendForm(name, form));\n    var id = form._id;\n    var path = _Formio2.default.getProjectUrl() + '/form' + (id ? '/' + id : '');\n    var formio = new _Formio2.default(path);\n    formio.saveForm(form).then(function (result) {\n      var url = _Formio2.default.getProjectUrl() + '/form/' + result._id;\n      dispatch(receiveForm(name, result, url));\n      done(null, result);\n    }).catch(function (result) {\n      dispatch(failForm(name, result));\n      done(result);\n    });\n  };\n};\nvar deleteForm = exports.deleteForm = function deleteForm(name, id) {\n  var done = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n  return function (dispatch) {\n    var path = _Formio2.default.getProjectUrl() + '/form/' + id;\n    var formio = new _Formio2.default(path);\n    return formio.deleteForm().then(function () {\n      dispatch(resetForm(name));\n      done();\n    }).catch(function (result) {\n      dispatch(failForm(name, result));\n      done(result);\n    });\n  };\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","deleteForm","saveForm","getForm","resetForm","clearFormError","undefined","_Formio","require","_Formio2","_interopRequireDefault","_constants","types","_interopRequireWildcard","_selectors","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","default","name","type","FORM_CLEAR_ERROR","requestForm","id","url","FORM_REQUEST","receiveForm","form","FORM_SUCCESS","failForm","err","FORM_FAILURE","error","FORM_RESET","sendForm","FORM_SAVE","arguments","length","done","dispatch","getState","selectForm","components","Array","isArray","_id","path","getProjectUrl","formio","loadForm","then","result","catch"],"sources":["D:/task/node_modules/react-formio/lib/modules/form/actions.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deleteForm = exports.saveForm = exports.getForm = exports.resetForm = exports.clearFormError = undefined;\n\nvar _Formio = require('formiojs/Formio');\n\nvar _Formio2 = _interopRequireDefault(_Formio);\n\nvar _constants = require('./constants');\n\nvar types = _interopRequireWildcard(_constants);\n\nvar _selectors = require('./selectors');\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar clearFormError = exports.clearFormError = function clearFormError(name) {\n  return {\n    type: types.FORM_CLEAR_ERROR,\n    name: name\n  };\n};\n\nvar requestForm = function requestForm(name, id, url) {\n  return {\n    type: types.FORM_REQUEST,\n    name: name,\n    id: id,\n    url: url\n  };\n};\n\nvar receiveForm = function receiveForm(name, form, url) {\n  return {\n    type: types.FORM_SUCCESS,\n    form: form,\n    name: name,\n    url: url\n  };\n};\n\nvar failForm = function failForm(name, err) {\n  return {\n    type: types.FORM_FAILURE,\n    error: err,\n    name: name\n  };\n};\n\nvar resetForm = exports.resetForm = function resetForm(name) {\n  return {\n    type: types.FORM_RESET,\n    name: name\n  };\n};\n\nvar sendForm = function sendForm(name, form) {\n  return {\n    type: types.FORM_SAVE,\n    form: form,\n    name: name\n  };\n};\n\nvar getForm = exports.getForm = function getForm(name) {\n  var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var done = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n\n  return function (dispatch, getState) {\n    // Check to see if the form is already loaded.\n    var form = (0, _selectors.selectForm)(name, getState());\n    if (form.components && Array.isArray(form.components) && form.components.length && form._id === id) {\n      return;\n    }\n\n    var path = _Formio2.default.getProjectUrl() + '/' + (id ? 'form/' + id : name);\n    var formio = new _Formio2.default(path);\n\n    dispatch(requestForm(name, id, path));\n\n    return formio.loadForm().then(function (result) {\n      dispatch(receiveForm(name, result));\n      done(null, result);\n    }).catch(function (result) {\n      dispatch(failForm(name, result));\n      done(result);\n    });\n  };\n};\n\nvar saveForm = exports.saveForm = function saveForm(name, form) {\n  var done = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n\n  return function (dispatch) {\n    dispatch(sendForm(name, form));\n\n    var id = form._id;\n    var path = _Formio2.default.getProjectUrl() + '/form' + (id ? '/' + id : '');\n    var formio = new _Formio2.default(path);\n\n    formio.saveForm(form).then(function (result) {\n      var url = _Formio2.default.getProjectUrl() + '/form/' + result._id;\n      dispatch(receiveForm(name, result, url));\n      done(null, result);\n    }).catch(function (result) {\n      dispatch(failForm(name, result));\n      done(result);\n    });\n  };\n};\n\nvar deleteForm = exports.deleteForm = function deleteForm(name, id) {\n  var done = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n\n  return function (dispatch) {\n    var path = _Formio2.default.getProjectUrl() + '/form/' + id;\n    var formio = new _Formio2.default(path);\n\n    return formio.deleteForm().then(function () {\n      dispatch(resetForm(name));\n      done();\n    }).catch(function (result) {\n      dispatch(failForm(name, result));\n      done(result);\n    });\n  };\n};"],"mappings":"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"},"metadata":{},"sourceType":"script"}